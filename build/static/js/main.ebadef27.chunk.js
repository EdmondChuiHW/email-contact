(this["webpackJsonpemail-contact"]=this["webpackJsonpemail-contact"]||[]).push([[0],{1023:function(e,t){},1117:function(e,t,a){},1118:function(e,t,a){},1130:function(e,t,a){"use strict";a.r(t);a(517),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(531),a(532),a(533),a(534),a(535),a(536),a(537),a(538),a(539),a(540),a(541),a(542),a(543),a(544),a(154),a(545),a(546),a(547),a(548),a(549),a(550),a(551),a(552),a(553),a(554),a(555),a(556),a(557),a(558),a(559),a(560),a(561),a(562),a(564),a(565),a(567),a(568),a(214),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(621),a(622),a(623),a(624),a(625),a(626),a(627),a(629),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(300),a(643),a(644),a(645),a(646),a(301),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(664),a(665),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(673),a(674),a(675),a(676),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(225),a(697),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(708),a(709),a(710),a(711),a(713),a(714),a(715),a(716),a(717),a(718),a(719),a(720),a(721),a(722),a(723),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(745),a(746),a(747),a(748),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(784),a(785),a(786),a(787),a(789),a(312);var n=a(1),o=a.n(n),c=a(149),r=a.n(c),i=(a(794),a(62)),l=(a(795),a(193)),s=a.n(l),u=a(409),d=a(410),m=a(42),f=a.n(m),v=a(198),b=a(108),h=a.n(b),p=a(107),g=a.n(p),j=a(190),y=a.n(j),E=a(413),O=a.n(E),w=(a(810),a(1131)),C=a(189),k=a.n(C),N={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},P=function(e){var t=e.isLoading,a=e.size,n=e.className,c=e.children;return t?o.a.createElement(k.a,{size:a,thickness:4.8,className:n}):c};P.defaultProps=N;var Q=P,S=a(412),R=a.n(S),x=function(e){var t=e.onClearQuery;return o.a.createElement(g.a,{"aria-label":"Clear",onClick:t},o.a.createElement(R.a,null))};x.defaultProps={onClearQuery:w.a};var I=x,L={label:"",query:"",isLoading:!1,onQueryChange:w.a,onClearQuery:w.a,ClearButton:I,SearchButton:function(){return o.a.createElement(g.a,{"aria-label":"Search"},o.a.createElement(O.a,null))},Input:y.a},B=function(e){var t=e.label,a=e.query,n=e.isLoading,c=e.onQueryChange,r=e.onClearQuery,i=e.ClearButton,l=e.SearchButton,s=e.Input;return o.a.createElement(h.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:!0,placeholder:t,value:a,onChange:c}),o.a.createElement(Q,{isLoading:n,className:"loading"},a?o.a.createElement(i,{onClearQuery:r}):o.a.createElement(l,null)))};B.defaultProps=L;var U=B,W=a(112),A=a(414),F=a(1135),M=function(e){var t=e.debounceInMs;return function(e){var a=function(a){var c=a.onQueryChange,r=Object(W.a)(a,["onQueryChange"]),l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(A.useDebouncedCallback)(c,t),f=Object(i.a)(m,1)[0],v=Object(F.a)([d,f]),b=Object(n.useCallback)((function(){return v("")}),[v]),h=Object(n.useCallback)((function(e){return v(e.target.value)}),[v]);return o.a.createElement(e,Object.assign({query:u,onQueryChange:h,onClearQuery:b},r))};return a.defaultProps={onQueryChange:w.a},a}}({debounceInMs:300})(U),T=a(1136),_=a(415),q=a.n(_),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},Y=function(e){var t=e.address,a=void 0===t?"":t,o=e.coords,c=void 0===o?{latitude:0,longitude:0}:o,r=Object(n.useState)(void 0),l=Object(i.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],b=Object(T.a)(u,(function(){return v(a)}));return Object(n.useEffect)((function(){var e=c&&!a?function(e){var t=e.latitude,a=void 0===t?0:t,n=e.longitude;return G("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(a))}(c):G(a);return e.then(b),function(){return e.abort()}}),[a,c,b]),[s,f]},z=a(266),H=a(192),Z=a.n(H),D=a(191),J=a.n(D),$=a(94),K=a.n($),V=a(421),X=a.n(V),ee=a(111),te=a.n(ee),ae=a(1133),ne=a(1134),oe=(a(1117),a(416)),ce=Object(F.a)([function(e){var t=e.role,a=void 0===t?"Mayor":t,n=e.lastName,o=void 0===n?"Iveson":n,c=e.ward,r=void 0===c?"":c;return"Hello ".concat(a," ").concat(o,",\n\nI want safe and liveable streets. That means 30 km/hr in residential areas. The #YEGCoreZone is the only option to move Edmonton in this direction.\n\nPlease vote to approve the #YEGCoreZone on February 26. \n\nThank you,\nConstituent from ").concat(r||"Edmonton")},Object(w.a)("Support letter for #YEGCoreZone")]),re=a(201),ie=a(1132),le=a(150),se=a(422),ue=(a(1118),{src:"",alt:"",left:o.a.createElement(o.a.Fragment,null)}),de=function(e){var t=e.src,a=e.alt,n=e.left;return t?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:t,alt:a}):n};de.defaultProps=ue;var me=de,fe={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},ve=function(e){var t=e.name,a=e.src,n=e.href,c=e.left;return o.a.createElement(K.a,{color:"primary",href:n,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(me,{src:a,alt:t,left:c}),o.a.createElement("span",null,t))};ve.defaultProps=fe;var be=ve,he=a(417),pe={name:"Gmail",src:a.n(he).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://mail.google.com/mail/?view=cm&fs=1&to=".concat(a,"&cc=").concat(o,"&su=").concat(r,"&body=").concat(l))}},ge=a(418),je={name:"Outlook",src:a.n(ge).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://outlook.live.com/?path=/mail/action/compose&to=".concat(a,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l))}},ye=a(419),Ee={name:"Yahoo",src:a.n(ye).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://compose.mail.yahoo.com/?to=".concat(a,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l))}},Oe=a(420),we=a.n(Oe),Ce={name:"Mail app",left:o.a.createElement(we.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(a,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(o)}},ke=[pe,je,Ee],Ne=function(e){var t=e.subject,a=void 0===t?"":t,n=e.body,o=void 0===n?"":n,c=Object(W.a)(e,["subject","body"]);return Object(re.a)({subject:encodeURIComponent(a),body:encodeURIComponent(o)},c)},Pe={email:"",cc:"",subject:"",body:""},Qe=Object(ie.a)(Object(le.a)(Pe)),Se=Object(T.a)(Qe,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=function(t){var a=t.name,n=t.hrefResolver,c=Object(W.a)(t,["name","hrefResolver"]);return o.a.createElement(be,Object.assign({key:a,name:a,href:Object(T.a)(Ne,n)(e)},c))};return t.defaultProps={name:""},t})),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.a)({providers:ke},Pe);return Object(se.a)(Se(e),e.providers)},xe=function(e){var t=e.firstName,a=e.lastName,n=e.ward,c=e.role,r=e.phone,l=e.email,s=e.photoUrl,u="".concat(t," ").concat(a),d=Object(ae.a)(Object(ne.a)("Councillor"),(function(e){return"".concat(e," \u2013 ").concat(n)}))(c),m=Object(ae.a)(Object(ne.a)("City"),Object(w.a)("Edmonton")),f=ce({role:c,lastName:a,ward:m(n)}),b=Object(i.a)(f,2),p=b[0],g=b[1],j=oe.isMobile?[Ce].concat(Object(z.a)(ke)):[].concat(Object(z.a)(ke),[Ce]);return o.a.createElement(h.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(J.a,null,o.a.createElement(te.a,{variant:"h5",component:"h2"},u),o.a.createElement(te.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(te.a,{component:"pre",className:"template"},p))),o.a.createElement(v.a,null),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Re,{email:l,subject:g,body:p,cc:"council@edmonton.ca",providers:j}),o.a.createElement(K.a,{color:"primary",href:"tel:".concat(r)},o.a.createElement(X.a,{className:"left-icon"}),"Call"))))};xe.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var Ie=xe,Le={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},Be=function(e){var t=e.coords,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],l=c[1],u=Y({address:r,coords:t}),m=Object(i.a)(u,2),b=m[0],h=m[1],p=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":p});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(M,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:r!==h}),o.a.createElement(v.b,{gutterBottom:!0}),b&&o.a.createElement(Ie,b))};Be.defaultProps={coords:void 0};var Ue=Object(u.geolocated)(Le)(Be),We=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(Ue,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/email-contact","/service-worker.js");We?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ae(t,e)}))}}()},417:function(e,t,a){e.exports=a.p+"static/media/gmail.2db0d88c.ico"},418:function(e,t,a){e.exports=a.p+"static/media/outlook.759fade9.ico"},419:function(e,t,a){e.exports=a.p+"static/media/yahoo.9796ed78.ico"},516:function(e,t,a){e.exports=a(1130)},794:function(e,t,a){},795:function(e,t,a){},810:function(e,t,a){},925:function(e,t){},927:function(e,t){},957:function(e,t){},958:function(e,t){}},[[516,1,2]]]);
//# sourceMappingURL=main.ebadef27.chunk.js.map