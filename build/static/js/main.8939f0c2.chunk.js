(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1002:function(e,t){},1003:function(e,t){},1051:function(e,t){},1053:function(e,t){},1076:function(e,t){},1170:function(e,t,n){},1171:function(e,t,n){},1191:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),c=n(153),r=n.n(c),i=(n(529),n(530),n(82)),l=(n(852),n(417)),s=n(197),u=n.n(s),d=n(116),m=n.n(d),v=n(154),f=n.n(v),b=n(194),p=n.n(b),h=n(420),g=n.n(h),j=n(419),E=n.n(j),w=(n(854),n(193)),y=n.n(w),O=function(e){var t=e.isLoading,n=void 0!==t&&t,o=e.size,c=void 0===o?24:o,r=e.className,i=void 0===r?"":r,l=e.children;return n?a.a.createElement(y.a,{size:c,thickness:4.8,className:i}):l},k=function(e){var t=e.query,n=void 0===t?"":t,c=e.label,r=void 0===c?"":c,i=e.isLoading,l=void 0!==i&&i,s=e.setQuery,u=Object(o.useCallback)(function(){return s("")},[]),d=Object(o.useCallback)(function(e){return s(e.target.value)},[]);return a.a.createElement(m.a,{className:"root",elevation:1},a.a.createElement(p.a,{autoComplete:"postal-code",className:"input",placeholder:r,autoFocus:!0,value:n,onChange:d}),a.a.createElement(O,{isLoading:l,className:"loading"},n?a.a.createElement(f.a,{"aria-label":"Clear",onClick:u},a.a.createElement(E.a,null)):a.a.createElement(f.a,{"aria-label":"Search"},a.a.createElement(g.a,null))))},N=n(421),C=n.n(N),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},x=n(1197),S=function(e){var t=e.address,n=void 0===t?"":t,a=e.coords,c=void 0===a?{latitude:0,longitude:0}:a,r=Object(o.useState)(void 0),l=Object(i.a)(r,2),s=l[0],u=l[1],d=Object(o.useState)(void 0),m=Object(i.a)(d,2),v=m[0],f=m[1],b=Object(x.a)(u,function(){return f(n)});return Object(o.useEffect)(function(){var e=c&&!n?function(e){var t=e.latitude,n=void 0===t?0:t,o=e.longitude;return R("geo: lng: ".concat(void 0===o?0:o,", lat: ").concat(n))}(c):R(n);return e.then(b),function(){return e.abort()}},[n,c]),[s,v]},I=n(267),W=n(196),_=n.n(W),A=n(195),L=n.n(A),U=n(102),F=n.n(U),G=n(427),M=n.n(G),T=n(119),Y=n.n(T),q=n(1194),D=n(1195),Z=n(1192),B=(n(1170),n(202)),P=n(1196),z=a.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),H=Object(P.a)([function(e){var t=e.role,n=void 0===t?"Mayor":t,o=e.lastName,a=void 0===o?"Iveson":o,c=e.ward,r=void 0===c?"":c;return"Dear ".concat(n," ").concat(a,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(r||"Edmonton")},function(e){var t=e.role,n=void 0===t?"Mayor":t,o=e.lastName,c=void 0===o?"Iveson":o,r=e.ward,i=void 0===r?"":r;return a.a.createElement(a.a.Fragment,null,"Dear ".concat(n," ").concat(c,",\n\nI'm writing in support of the")," ",z," ","proposal.\n\nThank you,\nResident of ".concat(i||"Edmonton"))},Object(Z.a)("Support letter for #YEGCoreZone")]),J=n(422),Q=n(206),$=n(207),K=n(1193),V=n(155),X=n(430),ee=(n(1171),function(e){var t=e.name,n=void 0===t?"":t,o=e.src,c=void 0===o?"":o,r=e.href,i=void 0===r?"":r,l=e.left,s=void 0===l?a.a.createElement(a.a.Fragment,null):l;return a.a.createElement(F.a,{color:"primary",href:i,target:"_blank",rel:"noopener noreferrer"},function(e){var t=e.src,n=void 0===t?"":t,o=e.name,c=void 0===o?"":o,r=e.left,i=void 0===r?a.a.createElement(a.a.Fragment,null):r;return n?a.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:n,alt:c}):i}({src:c,name:n,left:s}),a.a.createElement("span",null,n))}),te=n(423),ne={name:"Gmail",src:n.n(te).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,o=e.cc,a=void 0===o?"":o,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(n,"&cc=").concat(a,"&su=").concat(r,"&body=").concat(l)}},oe=n(424),ae={name:"Outlook",src:n.n(oe).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,o=e.cc,a=void 0===o?"":o,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(n,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)}},ce=n(425),re={name:"Yahoo",src:n.n(ce).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,o=e.cc,a=void 0===o?"":o,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(n,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)}},ie=n(426),le=n.n(ie),se={name:"Mail app",left:a.a.createElement(le.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,o=e.cc,a=void 0===o?"":o,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(n,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(a)}},ue=[ne,ae,re],de=function(e){var t=e.subject,n=void 0===t?"":t,o=e.body,a=void 0===o?"":o,c=Object($.a)(e,["subject","body"]);return Object(Q.a)({subject:encodeURIComponent(n),body:encodeURIComponent(a)},c)},me={email:"",cc:"",subject:"",body:""},ve=Object(K.a)(Object(V.a)(me)),fe=Object(x.a)(ve,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return function(t){var n=t.name,o=void 0===n?"":n,c=t.hrefResolver,r=Object($.a)(t,["name","hrefResolver"]);return a.a.createElement(ee,Object.assign({key:o,name:o,href:Object(x.a)(de,c)(e)},r))}}),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.a)({providers:ue},me);return Object(X.a)(fe(e),e.providers)},pe=function(e){var t=e.firstName,n=void 0===t?"":t,o=e.lastName,c=void 0===o?"":o,r=e.ward,l=void 0===r?"":r,s=e.role,u=void 0===s?"":s,d=e.phone,v=void 0===d?"":d,f=e.email,b=void 0===f?"":f,p=e.photoUrl,h=void 0===p?"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg":p,g="".concat(n," ").concat(c),j=Object(q.a)(Object(D.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(l)})(u),E=Object(q.a)(Object(D.a)("City"),Object(Z.a)("Edmonton")),w=H({role:u,lastName:c,ward:E(l)}),y=Object(i.a)(w,3),O=y[0],k=y[1],N=y[2],C=J.isMobile?[se].concat(Object(I.a)(ue)):[].concat(Object(I.a)(ue),[se]);return a.a.createElement(m.a,null,a.a.createElement("div",{className:"contact"},a.a.createElement("img",{className:"image",src:h,alt:g}),a.a.createElement(L.a,null,a.a.createElement(Y.a,{variant:"h5",component:"h2"},g),a.a.createElement(Y.a,{color:"textSecondary",paragraph:!0},j),a.a.createElement(Y.a,{component:"pre",className:"template"},k))),a.a.createElement(B.a,null),a.a.createElement(_.a,null,a.a.createElement("div",{className:"email-array"},a.a.createElement(be,{email:b,subject:N,body:O,cc:"council@edmonton.ca",providers:C}),a.a.createElement(F.a,{color:"primary",href:"tel:".concat(v)},a.a.createElement(M.a,{className:"left-icon"}),"Call"))))},he=n(428),ge="undefined"!==typeof navigator&&navigator.geolocation,je=n(429),Ee=n(41),we=n.n(Ee),ye={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:ge},Oe=Object(he.geolocated)(ye)(function(e){var t=e.coords,n=Object(o.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],d=Object(l.useDebounce)(r,300),m=Object(i.a)(d,1)[0],v=S({address:m,coords:t}),f=Object(i.a)(v,2),b=f[0],p=f[1],h=je.parse(window.location.search).iframe_pls,g=we()("app",{"iframe-pls":h});return a.a.createElement("div",{className:g},a.a.createElement(u.a,null),a.a.createElement(k,{label:"Find your councillor by postal code/address",query:r,setQuery:s,isLoading:r!==m||m!==p}),a.a.createElement(B.b,{gutterBottom:!0}),b&&a.a.createElement(pe,b))}),ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(Oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/email-contact","/service-worker.js");ke?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ne(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ne(t,e)})}}()},423:function(e,t,n){e.exports=n.p+"static/media/gmail.2db0d88c.ico"},424:function(e,t,n){e.exports=n.p+"static/media/outlook.759fade9.ico"},425:function(e,t,n){e.exports=n.p+"static/media/yahoo.9796ed78.ico"},524:function(e,t,n){e.exports=n(1191)},529:function(e,t,n){},852:function(e,t,n){},854:function(e,t,n){},969:function(e,t){},971:function(e,t){}},[[524,1,2]]]);
//# sourceMappingURL=main.8939f0c2.chunk.js.map