(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1001:function(e,o){},1002:function(e,o){},1050:function(e,o){},1052:function(e,o){},1075:function(e,o){},1169:function(e,o,t){},1170:function(e,o,t){},1190:function(e,o,t){"use strict";t.r(o);var n=t(1),a=t.n(n),c=t(154),r=t.n(c),i=(t(528),t(529),t(82)),l=(t(851),t(415)),s=t(198),d=t.n(s),u=t(117),m=t.n(u),v=t(155),f=t.n(v),b=t(195),p=t.n(b),h=t(418),g=t.n(h),j=t(417),y=t.n(j),E=(t(853),t(194)),w=t.n(E),O=function(e){var o=e.isLoading,t=void 0!==o&&o,n=e.size,c=void 0===n?24:n,r=e.className,i=void 0===r?"":r,l=e.children;return t?a.a.createElement(w.a,{size:c,thickness:4.8,className:i}):l},k=function(e){var o=e.query,t=void 0===o?"":o,c=e.label,r=void 0===c?"":c,i=e.isLoading,l=void 0!==i&&i,s=e.setQuery,d=Object(n.useCallback)(function(){return s("")},[]),u=Object(n.useCallback)(function(e){return s(e.target.value)},[]);return a.a.createElement(m.a,{className:"root",elevation:1},a.a.createElement(p.a,{autoComplete:"postal-code",className:"input",placeholder:r,autoFocus:!0,value:t,onChange:u}),a.a.createElement(O,{isLoading:l,className:"loading"},t?a.a.createElement(f.a,{"aria-label":"Clear",onClick:d},a.a.createElement(y.a,null)):a.a.createElement(f.a,{"aria-label":"Search"},a.a.createElement(g.a,null))))},N=t(419),C=t.n(N),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C()({url:"https://address2contact.herokuapp.com/address2councillor",json:!0,qs:{address:e}})},x=t(1195),S=function(e){var o=e.address,t=void 0===o?"":o,a=e.coords,c=void 0===a?{latitude:0,longitude:0}:a,r=Object(n.useState)(void 0),l=Object(i.a)(r,2),s=l[0],d=l[1],u=Object(n.useState)(void 0),m=Object(i.a)(u,2),v=m[0],f=m[1],b=Object(x.a)(d,function(){return f(t)});return Object(n.useEffect)(function(){var e=c&&!t?function(e){var o=e.latitude,t=void 0===o?0:o,n=e.longitude;return R("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(t))}(c):R(t);return e.then(b),function(){return e.abort()}},[t,c]),[s,v]},_=t(197),I=t.n(_),W=t(196),A=t.n(W),L=t(88),U=t.n(L),G=t(424),M=t.n(G),T=t(423),Y=t.n(T),q=t(120),B=t.n(q),D=t(1192),Z=t(1193),F=t(1191),P=(t(1169),t(203)),z=t(1194),H=a.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),J=Object(z.a)([function(e){var o=e.role,t=void 0===o?"Mayor":o,n=e.lastName,a=void 0===n?"Iveson":n,c=e.ward,r=void 0===c?"":c;return"Dear ".concat(t," ").concat(a,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(r||"Edmonton")},function(e){var o=e.role,t=void 0===o?"Mayor":o,n=e.lastName,c=void 0===n?"Iveson":n,r=e.ward,i=void 0===r?"":r;return a.a.createElement(a.a.Fragment,null,"Dear ".concat(t," ").concat(c,",\n\nI'm writing in support of the")," ",H," ","proposal.\n\nThank you,\nResident of ".concat(i||"Edmonton"))},Object(F.a)("Support letter for #YEGCoreZone")]),Q=t(265),V=t(429),$=t(420),K=t.n($),X=t(428),ee=t(427),oe=function(e){var o=e.subject,t=void 0===o?"":o,n=e.body,a=void 0===n?"":n,c=Object(ee.a)(e,["subject","body"]);return Object(X.a)({subject:encodeURIComponent(t),body:encodeURIComponent(a)},c)},te={name:"Gmail",src:K.a,hrefResolver:Object(x.a)(oe,function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(t,"&cc=").concat(a,"&su=").concat(r,"&body=").concat(l)})},ne=t(421),ae={name:"Outlook",src:t.n(ne).a,hrefResolver:Object(x.a)(oe,function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(t,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)})},ce=t(422),re=[te,ae,{name:"Yahoo",src:t.n(ce).a,hrefResolver:Object(x.a)(oe,function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(t,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)})}],ie=(t(1170),function(e){var o=e.name,t=void 0===o?"":o,n=e.src,c=void 0===n?"":n,r=e.href,i=void 0===r?"":r;return a.a.createElement(U.a,{color:"primary",href:i,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:c,alt:t}),t)}),le=function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,c=void 0===n?"":n,r=e.subject,i=void 0===r?"":r,l=e.body,s=void 0===l?"":l;return Object(V.a)(function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,c=void 0===n?"":n,r=e.subject,i=void 0===r?"":r,l=e.body,s=void 0===l?"":l;return function(e){var o=e.name,n=void 0===o?"":o,r=e.src,l=void 0===r?"":r,d=e.hrefResolver;return a.a.createElement(ie,{key:n,name:n,src:l,href:d({email:t,cc:c,subject:i,body:s})})}}({email:t,cc:c,subject:i,body:s}))(re)},se=Object(x.a)(oe,function(e){var o=e.email,t=void 0===o?"":o,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(t,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(a)}),de=function(e){var o=e.firstName,t=void 0===o?"":o,n=e.lastName,c=void 0===n?"":n,r=e.ward,l=void 0===r?"":r,s=e.role,d=void 0===s?"":s,u=e.phone,v=void 0===u?"":u,f=e.email,b=void 0===f?"":f,p=e.photoUrl,h=void 0===p?"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg":p,g="".concat(t," ").concat(c),j=Object(D.a)(Object(Z.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(l)})(d),y=Object(D.a)(Object(Z.a)("City"),Object(F.a)("Edmonton")),E=J({role:d,lastName:c,ward:y(l)}),w=Object(i.a)(E,3),O=w[0],k=w[1],N=w[2],C=a.a.createElement(U.a,{color:"primary",href:se({email:b,cc:"council@edmonton.ca",subject:N,body:O}),target:"_blank",rel:"noopener noreferrer"},a.a.createElement(Y.a,{className:"left-icon"}),"Mail app");return a.a.createElement(m.a,null,a.a.createElement("div",{className:"contact"},a.a.createElement("img",{className:"image",src:h,alt:g}),a.a.createElement(A.a,null,a.a.createElement(B.a,{variant:"h5",component:"h2"},g),a.a.createElement(B.a,{color:"textSecondary",paragraph:!0},j),a.a.createElement(B.a,{component:"pre",className:"template"},k))),a.a.createElement(P.a,null),a.a.createElement(I.a,null,a.a.createElement("div",{className:"email-array"},a.a.createElement(Q.MobileView,null,C),a.a.createElement(le,{email:b,subject:N,body:O,cc:"council@edmonton.ca"}),a.a.createElement(Q.BrowserView,null,C),a.a.createElement(U.a,{color:"primary",href:"tel:".concat(v)},a.a.createElement(M.a,{className:"left-icon"}),"Call"))))},ue=t(425),me="undefined"!==typeof navigator&&navigator.geolocation,ve=t(426),fe=t(41),be=t.n(fe),pe={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:me},he=Object(ue.geolocated)(pe)(function(e){var o=e.coords,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],s=c[1],u=Object(l.useDebounce)(r,300),m=Object(i.a)(u,1)[0],v=S({address:m,coords:o}),f=Object(i.a)(v,2),b=f[0],p=f[1],h=ve.parse(window.location.search).iframe_pls,g=be()("app",{"iframe-pls":h});return a.a.createElement("div",{className:g},a.a.createElement(d.a,null),a.a.createElement(k,{label:"Find your councillor by postal code/address",query:r,setQuery:s,isLoading:r!==m||m!==p}),a.a.createElement(P.b,{gutterBottom:!0}),b&&a.a.createElement(de,b))}),ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,o){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),o&&o.onUpdate&&o.onUpdate(e)):(console.log("Content is cached for offline use."),o&&o.onSuccess&&o.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(he,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var o="".concat("/email-contact","/service-worker.js");ge?(function(e,o){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):je(e,o)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(o,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):je(o,e)})}}()},420:function(e,o,t){e.exports=t.p+"static/media/gmail.2db0d88c.ico"},421:function(e,o,t){e.exports=t.p+"static/media/outlook.759fade9.ico"},422:function(e,o,t){e.exports=t.p+"static/media/yahoo.9796ed78.ico"},523:function(e,o,t){e.exports=t(1190)},528:function(e,o,t){},851:function(e,o,t){},853:function(e,o,t){},968:function(e,o){},970:function(e,o){}},[[523,1,2]]]);
//# sourceMappingURL=main.556f34d9.chunk.js.map