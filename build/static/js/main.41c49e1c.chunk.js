(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1040:function(e,t){},1134:function(e,t,a){},1135:function(e,t,a){},1147:function(e,t,a){"use strict";a.r(t);a(513),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(531),a(532),a(533),a(534),a(535),a(536),a(537),a(538),a(539),a(540),a(157),a(541),a(542),a(543),a(544),a(545),a(546),a(547),a(548),a(549),a(550),a(551),a(552),a(553),a(554),a(555),a(556),a(557),a(558),a(559),a(561),a(562),a(564),a(565),a(566),a(567),a(216),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(299),a(645),a(646),a(647),a(648),a(300),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(664),a(665),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(673),a(674),a(675),a(676),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(227),a(708),a(709),a(710),a(711),a(712),a(713),a(714),a(715),a(716),a(717),a(718),a(719),a(720),a(721),a(722),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(745),a(746),a(747),a(748),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(770),a(771),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(784),a(785),a(786),a(787),a(788),a(789),a(790),a(791),a(792),a(793),a(794),a(795),a(797),a(311),a(798);var n=a(1),o=a.n(n),r=a(152),c=a.n(r),i=(a(805),a(66)),l=(a(806),a(196)),s=a.n(l),u=a(405),d=a(406),m=a(42),f=a.n(m),v=a(201),p=a(114),b=a.n(p),h=a(113),g=a.n(h),j=a(193),y=a.n(j),E=a(409),w=a.n(E),O=(a(821),a(1148)),C=a(192),N=a.n(C),k={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},P=function(e){var t=e.isLoading,a=e.size,n=e.className,r=e.children;return t?o.a.createElement(N.a,{size:a,thickness:4.8,className:n}):r};P.defaultProps=k;var Q=P,R=a(408),S=a.n(R),I=function(e){var t=e.onClearQuery;return o.a.createElement(g.a,{"aria-label":"Clear",onClick:t},o.a.createElement(S.a,null))};I.defaultProps={onClearQuery:O.a};var x=I,L={label:"",query:"",isLoading:!1,onQueryChange:O.a,onClearQuery:O.a,ClearButton:x,SearchButton:function(){return o.a.createElement(g.a,{"aria-label":"Search"},o.a.createElement(w.a,null))},Input:y.a},B=function(e){var t=e.label,a=e.query,n=e.isLoading,r=e.onQueryChange,c=e.onClearQuery,i=e.ClearButton,l=e.SearchButton,s=e.Input;return o.a.createElement(b.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:!0,placeholder:t,value:a,onChange:r}),o.a.createElement(Q,{isLoading:n,className:"loading"},a?o.a.createElement(i,{onClearQuery:c}):o.a.createElement(l,null)))};B.defaultProps=L;var M=B,U=a(118),W=a(410),_=a(1152),A=function(e){var t=e.debounceInMs;return function(e){var a=function(a){var r=a.onQueryChange,c=Object(U.a)(a,["onQueryChange"]),l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(W.useDebouncedCallback)(r,t),f=Object(i.a)(m,1)[0],v=Object(_.a)([d,f]),p=Object(n.useCallback)(function(){return v("")},[v]),b=Object(n.useCallback)(function(e){return v(e.target.value)},[v]);return o.a.createElement(e,Object.assign({query:u,onQueryChange:b,onClearQuery:p},c))};return a.defaultProps={onQueryChange:O.a},a}}({debounceInMs:300})(M),F=a(1153),T=a(411),q=a.n(T),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},Y=function(e){var t=e.address,a=void 0===t?"":t,o=e.coords,r=void 0===o?{latitude:0,longitude:0}:o,c=Object(n.useState)(void 0),l=Object(i.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],p=Object(F.a)(u,function(){return v(a)});return Object(n.useEffect)(function(){var e=r&&!a?function(e){var t=e.latitude,a=void 0===t?0:t,n=e.longitude;return G("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(a))}(r):G(a);return e.then(p),function(){return e.abort()}},[a,r,p]),[s,f]},D=a(266),Z=a(195),z=a.n(Z),H=a(194),J=a.n(H),$=a(98),K=a.n($),V=a(417),X=a.n(V),ee=a(117),te=a.n(ee),ae=a(1150),ne=a(1151),oe=(a(1134),a(412)),re=a(19),ce=o.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),ie={role:re.string,lastName:re.string,ward:re.string},le=function(e){var t=e.role,a=e.lastName,n=e.ward;return o.a.createElement(o.a.Fragment,null,"Dear ".concat(t," ").concat(a,",\n\nI'm writing in support of the")," ",ce," ","proposal.\n\nThank you,\nResident of ".concat(n||"Edmonton"))};le.propTypes=ie,le.defaultProps={role:"Mayor",lastName:"Iveson",ward:""};var se=Object(_.a)([function(e){var t=e.role,a=void 0===t?"Mayor":t,n=e.lastName,o=void 0===n?"Iveson":n,r=e.ward,c=void 0===r?"":r;return"Dear ".concat(a," ").concat(o,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(c||"Edmonton")},le,Object(O.a)("Support letter for #YEGCoreZone")]),ue=a(204),de=a(1149),me=a(153),fe=a(418),ve=(a(1135),{src:"",alt:"",left:o.a.createElement(o.a.Fragment,null)}),pe=function(e){var t=e.src,a=e.alt,n=e.left;return t?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:t,alt:a}):n};pe.defaultProps=ve;var be=pe,he={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},ge=function(e){var t=e.name,a=e.src,n=e.href,r=e.left;return o.a.createElement(K.a,{color:"primary",href:n,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(be,{src:a,alt:t,left:r}),o.a.createElement("span",null,t))};ge.defaultProps=he;var je=ge,ye=a(413),Ee={name:"Gmail",src:a.n(ye).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(a,"&cc=").concat(o,"&su=").concat(c,"&body=").concat(l)}},we=a(414),Oe={name:"Outlook",src:a.n(we).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(a,"&cc=").concat(o,"&subject=").concat(c,"&body=").concat(l)}},Ce=a(415),Ne={name:"Yahoo",src:a.n(Ce).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(a,"&cc=").concat(o,"&subject=").concat(c,"&body=").concat(l)}},ke=a(416),Pe=a.n(ke),Qe={name:"Mail app",left:o.a.createElement(Pe.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,o=void 0===n?"":n,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"mailto:".concat(a,"?subject=").concat(c,"&body=").concat(l,"&cc=").concat(o)}},Re=[Ee,Oe,Ne],Se=function(e){var t=e.subject,a=void 0===t?"":t,n=e.body,o=void 0===n?"":n,r=Object(U.a)(e,["subject","body"]);return Object(ue.a)({subject:encodeURIComponent(a),body:encodeURIComponent(o)},r)},Ie={email:"",cc:"",subject:"",body:""},xe=Object(de.a)(Object(me.a)(Ie)),Le=Object(F.a)(xe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=function(t){var a=t.name,n=t.hrefResolver,r=Object(U.a)(t,["name","hrefResolver"]);return o.a.createElement(je,Object.assign({key:a,name:a,href:Object(F.a)(Se,n)(e)},r))};return t.defaultProps={name:""},t}),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(ue.a)({providers:Re},Ie);return Object(fe.a)(Le(e),e.providers)},Me=function(e){var t=e.firstName,a=e.lastName,n=e.ward,r=e.role,c=e.phone,l=e.email,s=e.photoUrl,u="".concat(t," ").concat(a),d=Object(ae.a)(Object(ne.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(n)})(r),m=Object(ae.a)(Object(ne.a)("City"),Object(O.a)("Edmonton")),f=se({role:r,lastName:a,ward:m(n)}),p=Object(i.a)(f,3),h=p[0],g=p[1],j=p[2],y=oe.isMobile?[Qe].concat(Object(D.a)(Re)):[].concat(Object(D.a)(Re),[Qe]);return o.a.createElement(b.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(J.a,null,o.a.createElement(te.a,{variant:"h5",component:"h2"},u),o.a.createElement(te.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(te.a,{component:"pre",className:"template"},g))),o.a.createElement(v.a,null),o.a.createElement(z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Be,{email:l,subject:j,body:h,cc:"council@edmonton.ca",providers:y}),o.a.createElement(K.a,{color:"primary",href:"tel:".concat(c)},o.a.createElement(X.a,{className:"left-icon"}),"Call"))))};Me.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var Ue=Me,We={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},_e=function(e){var t=e.coords,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],l=r[1],u=Y({address:c,coords:t}),m=Object(i.a)(u,2),p=m[0],b=m[1],h=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":h});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(A,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:c!==b}),o.a.createElement(v.b,{gutterBottom:!0}),p&&o.a.createElement(Ue,p))};_e.defaultProps={coords:void 0};var Ae=Object(u.geolocated)(We)(_e),Fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(Ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/email-contact","/service-worker.js");Fe?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Te(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Te(t,e)})}}()},413:function(e,t,a){e.exports=a.p+"static/media/gmail.2db0d88c.ico"},414:function(e,t,a){e.exports=a.p+"static/media/outlook.759fade9.ico"},415:function(e,t,a){e.exports=a.p+"static/media/yahoo.9796ed78.ico"},512:function(e,t,a){e.exports=a(1147)},805:function(e,t,a){},806:function(e,t,a){},821:function(e,t,a){},936:function(e,t){},938:function(e,t){},970:function(e,t){},971:function(e,t){}},[[512,1,2]]]);
//# sourceMappingURL=main.41c49e1c.chunk.js.map