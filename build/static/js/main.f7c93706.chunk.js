(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1010:function(e,a){},1011:function(e,a){},1059:function(e,a){},1061:function(e,a){},1084:function(e,a){},1178:function(e,a,n){},1179:function(e,a,n){},1191:function(e,a,n){"use strict";n.r(a);var t=n(1),o=n.n(t),c=n(154),r=n.n(c),i=(n(529),n(530),n(68)),l=(n(852),n(198)),s=n.n(l),u=n(417),d=n(418),m=n(41),f=n.n(m),v=n(203),b=n(419),p=n(1192),h=n(1196),g=n(116),j=n.n(g),y=n(155),E=n.n(y),w=n(195),O=n.n(w),C=n(422),N=n.n(C),k=n(421),R=n.n(k),P=(n(867),n(194)),L=n.n(P),S={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},x=function(e){var a=e.isLoading,n=e.size,t=e.className,c=e.children;return a?o.a.createElement(L.a,{size:n,thickness:4.8,className:t}):c};x.defaultProps=S;var I=x,Q={label:"",query:"",isLoading:!1,onQueryChange:p.a,onClearQuery:p.a},M=function(e){var a=e.label,n=e.query,t=e.isLoading,c=e.onQueryChange,r=e.onClearQuery;return o.a.createElement(j.a,{className:"root",elevation:1},o.a.createElement(O.a,{autoComplete:"postal-code",className:"input",placeholder:a,autoFocus:!0,value:n,onChange:c}),o.a.createElement(I,{isLoading:t,className:"loading"},n?o.a.createElement(E.a,{"aria-label":"Clear",onClick:r},o.a.createElement(R.a,null)):o.a.createElement(E.a,{"aria-label":"Search"},o.a.createElement(N.a,null))))};M.defaultProps=Q;var U=M,W={label:"",isLoading:!1,onQueryChange:p.a,debounceInMs:300},_=function(e){var a=e.label,n=e.isLoading,c=e.onQueryChange,r=e.debounceInMs,l=Object(t.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(b.useDebouncedCallback)(c,r),f=Object(i.a)(m,1)[0],v=Object(h.a)([d,f]),p=Object(t.useCallback)(function(){return v("")},[]),g=Object(t.useCallback)(function(e){return v(e.target.value)},[]);return o.a.createElement(U,{isLoading:n,label:a,query:u,onQueryChange:g,onClearQuery:p})};_.defaultProps=W;var A=_,F=n(1197),T=n(423),q=n.n(T),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},Y=function(e){var a=e.address,n=void 0===a?"":a,o=e.coords,c=void 0===o?{latitude:0,longitude:0}:o,r=Object(t.useState)(void 0),l=Object(i.a)(r,2),s=l[0],u=l[1],d=Object(t.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],b=Object(F.a)(u,function(){return v(n)});return Object(t.useEffect)(function(){var e=c&&!n?function(e){var a=e.latitude,n=void 0===a?0:a,t=e.longitude;return G("geo: lng: ".concat(void 0===t?0:t,", lat: ").concat(n))}(c):G(n);return e.then(b),function(){return e.abort()}},[n,c]),[s,f]},D=n(267),Z=n(197),z=n.n(Z),B=n(196),H=n.n(B),J=n(102),$=n.n(J),K=n(429),V=n.n(K),X=n(119),ee=n.n(X),ae=n(1194),ne=n(1195),te=(n(1178),n(424)),oe=n(19),ce=o.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),re={role:oe.string,lastName:oe.string,ward:oe.string},ie=function(e){var a=e.role,n=e.lastName,t=e.ward;return o.a.createElement(o.a.Fragment,null,"Dear ".concat(a," ").concat(n,",\n\nI'm writing in support of the")," ",ce," ","proposal.\n\nThank you,\nResident of ".concat(t||"Edmonton"))};ie.propTypes=re,ie.defaultProps={role:"Mayor",lastName:"Iveson",ward:""};var le=Object(h.a)([function(e){var a=e.role,n=void 0===a?"Mayor":a,t=e.lastName,o=void 0===t?"Iveson":t,c=e.ward,r=void 0===c?"":c;return"Dear ".concat(n," ").concat(o,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(r||"Edmonton")},ie,Object(p.a)("Support letter for #YEGCoreZone")]),se=n(208),ue=n(206),de=n(1193),me=n(156),fe=n(430),ve=(n(1179),{src:"",name:"",left:o.a.createElement(o.a.Fragment,null)}),be=function(e){var a=e.src,n=e.name,t=e.left;return a?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:a,alt:n}):t};be.defaultProps=ve;var pe=be,he={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},ge=function(e){var a=e.name,n=e.src,t=e.href,c=e.left;return o.a.createElement($.a,{color:"primary",href:t,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(pe,{src:n,name:a,left:c}),o.a.createElement("span",null,a))};ge.defaultProps=he;var je=ge,ye=n(425),Ee={name:"Gmail",src:n.n(ye).a,hrefResolver:function(e){var a=e.email,n=void 0===a?"":a,t=e.cc,o=void 0===t?"":t,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(n,"&cc=").concat(o,"&su=").concat(r,"&body=").concat(l)}},we=n(426),Oe={name:"Outlook",src:n.n(we).a,hrefResolver:function(e){var a=e.email,n=void 0===a?"":a,t=e.cc,o=void 0===t?"":t,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(n,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},Ce=n(427),Ne={name:"Yahoo",src:n.n(Ce).a,hrefResolver:function(e){var a=e.email,n=void 0===a?"":a,t=e.cc,o=void 0===t?"":t,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(n,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},ke=n(428),Re=n.n(ke),Pe={name:"Mail app",left:o.a.createElement(Re.a,{className:"left-icon"}),hrefResolver:function(e){var a=e.email,n=void 0===a?"":a,t=e.cc,o=void 0===t?"":t,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(n,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(o)}},Le=[Ee,Oe,Ne],Se=function(e){var a=e.subject,n=void 0===a?"":a,t=e.body,o=void 0===t?"":t,c=Object(ue.a)(e,["subject","body"]);return Object(se.a)({subject:encodeURIComponent(n),body:encodeURIComponent(o)},c)},xe={email:"",cc:"",subject:"",body:""},Ie=Object(de.a)(Object(me.a)(xe)),Qe=Object(F.a)(Ie,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,a=function(a){var n=a.name,t=a.hrefResolver,c=Object(ue.a)(a,["name","hrefResolver"]);return o.a.createElement(je,Object.assign({key:n,name:n,href:Object(F.a)(Se,t)(e)},c))};return a.defaultProps={name:""},a}),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(se.a)({providers:Le},xe);return Object(fe.a)(Qe(e),e.providers)},Ue=function(e){var a=e.firstName,n=e.lastName,t=e.ward,c=e.role,r=e.phone,l=e.email,s=e.photoUrl,u="".concat(a," ").concat(n),d=Object(ae.a)(Object(ne.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(t)})(c),m=Object(ae.a)(Object(ne.a)("City"),Object(p.a)("Edmonton")),f=le({role:c,lastName:n,ward:m(t)}),b=Object(i.a)(f,3),h=b[0],g=b[1],y=b[2],E=te.isMobile?[Pe].concat(Object(D.a)(Le)):[].concat(Object(D.a)(Le),[Pe]);return o.a.createElement(j.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(H.a,null,o.a.createElement(ee.a,{variant:"h5",component:"h2"},u),o.a.createElement(ee.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(ee.a,{component:"pre",className:"template"},g))),o.a.createElement(v.a,null),o.a.createElement(z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Me,{email:l,subject:y,body:h,cc:"council@edmonton.ca",providers:E}),o.a.createElement($.a,{color:"primary",href:"tel:".concat(r)},o.a.createElement(V.a,{className:"left-icon"}),"Call"))))};Ue.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var We=Ue,_e={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},Ae=function(e){var a=e.coords,n=Object(t.useState)(""),c=Object(i.a)(n,2),r=c[0],l=c[1],u=Y({address:r,coords:a}),m=Object(i.a)(u,2),b=m[0],p=m[1],h=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":h});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(A,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:r!==p}),o.a.createElement(v.b,{gutterBottom:!0}),b&&o.a.createElement(We,b))};Ae.defaultProps={coords:void 0};var Fe=Object(u.geolocated)(_e)(Ae),Te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(Fe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/email-contact","/service-worker.js");Te?(function(e,a){fetch(e).then(function(n){var t=n.headers.get("content-type");404===n.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):qe(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):qe(a,e)})}}()},425:function(e,a,n){e.exports=n.p+"static/media/gmail.2db0d88c.ico"},426:function(e,a,n){e.exports=n.p+"static/media/outlook.759fade9.ico"},427:function(e,a,n){e.exports=n.p+"static/media/yahoo.9796ed78.ico"},524:function(e,a,n){e.exports=n(1191)},529:function(e,a,n){},852:function(e,a,n){},867:function(e,a,n){},977:function(e,a){},979:function(e,a){}},[[524,1,2]]]);
//# sourceMappingURL=main.f7c93706.chunk.js.map