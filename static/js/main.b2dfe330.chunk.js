(this["webpackJsonpemail-contact"]=this["webpackJsonpemail-contact"]||[]).push([[0],{1001:function(e,t,a){},1028:function(e,t){},1030:function(e,t){},1060:function(e,t){},1061:function(e,t){},1126:function(e,t){},1238:function(e,t,a){},1239:function(e,t,a){"use strict";a.r(t);a(566),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588),a(589),a(590),a(591),a(592),a(593),a(187),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(609),a(610),a(611),a(613),a(614),a(616),a(617),a(254),a(619),a(620),a(621),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(629),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(645),a(646),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(664),a(665),a(666),a(667),a(668),a(670),a(671),a(672),a(673),a(674),a(675),a(676),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(358),a(692),a(693),a(694),a(695),a(359),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(708),a(709),a(710),a(711),a(712),a(713),a(714),a(715),a(716),a(717),a(718),a(719),a(720),a(721),a(722),a(723),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(745),a(265),a(746),a(747),a(748),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(770),a(771),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(784),a(785),a(786),a(787),a(788),a(789),a(790),a(791),a(792),a(793),a(794),a(795),a(796),a(797),a(798),a(799),a(800),a(801),a(802),a(803),a(804),a(805),a(806),a(807),a(808),a(809),a(810),a(811),a(812),a(813),a(814),a(815),a(816),a(817),a(818),a(821),a(822),a(823),a(824),a(825),a(826),a(827),a(828),a(829),a(830),a(831),a(832),a(833),a(834),a(835),a(836),a(838),a(370);var n=a(55),r=a.n(n),c=a(0),o=a.n(c),i=a(64),l=a.n(i),u=a(11),s=a(98),m=a(181),d=a(107),p=a(20),f=a(229),g=a.n(f),b=a(13),v=a.n(b),h=a(478),E=a(479),j=(a(871),a(182)),O=a(77),y=a.n(O),C=a(227),w=a.n(C),x=a(180),k=a.n(x),N=a(76),S=a.n(N),I=a(78),A=a.n(I),P=a(486),B=a.n(P),F=a(1243),R=a(1245),D=a(1244),T=a(480),L=a(481),z={name:"Gmail",src:a.n(L).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://mail.google.com/mail/?view=cm&fs=1&to=".concat(a,"&cc=").concat(r,"&su=").concat(o,"&body=").concat(l))}},M=a(482);var Q={name:"Outlook",src:a.n(M).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://outlook.live.com/?path=/mail/action/compose&to=".concat(function(e,t){return t?"".concat(e,",").concat(t):e}(a,r),"&subject=").concat(o,"&body=").concat(l))}},W=a(483),_={name:"Yahoo",src:a.n(W).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://compose.mail.yahoo.com/?to=".concat(a,"&cc=").concat(r,"&subject=").concat(o,"&body=").concat(l))}},U=a(236),H=a.n(U),G={name:"Mail app",left:o.a.createElement(H.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(a,"?subject=").concat(o,"&body=").concat(l,"&cc=").concat(r)}},K=[z,Q,_];var V=a(1247),q=a(88),Z=function(e){var t=e.subject,a=void 0===t?"":t,n=e.body,r=void 0===n?"":n,c=Object(s.a)(e,["subject","body"]);return Object(q.a)({subject:encodeURIComponent(a),body:encodeURIComponent(r)},c)},J=(a(933),{src:"",alt:"",left:o.a.createElement(o.a.Fragment,null)}),X=function(e){var t=e.src,a=e.alt,n=e.left;return t?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:t,alt:a}):n};X.defaultProps=J;var Y=X,$={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null),onClick:void 0},ee=function(e){var t=e.name,a=e.src,n=e.href,r=e.left,c=e.onClick;return o.a.createElement(y.a,{color:"primary",href:n,target:"_blank",rel:"noopener noreferrer",onClick:c},o.a.createElement(Y,{src:a,alt:t,left:r}),o.a.createElement("span",null,t))};ee.defaultProps=$;var te=ee;var ae=function(e){var t=e.providers,a=Object(s.a)(e,["providers"]);return t.map((function(e){var t=e.hrefResolver,n=e.name,r=Object(s.a)(e,["hrefResolver","name"]);return o.a.createElement(te,Object.assign({key:n,name:n,href:Object(V.a)(Z,t)(a)},a,r))}))},ne=(a(323),a(105)),re=a.n(ne);a(485);a(998);var ce=function(e){var t=e.firstName,a=e.lastName,n=e.ward,r=e.role,i=e.phone,l=e.email,s=e.photoUrl,m=e.campaign,d=Object(c.useState)(!1),f=Object(u.a)(d,2),g=(f[0],f[1]),b="".concat(t," ").concat(a),v=Object(F.a)(Object(R.a)("Councillor"),(function(e){return"".concat(e," \u2013 ").concat(n)}))(r),h=Object(F.a)(Object(R.a)("City"),Object(D.a)("Edmonton")),E=function(e){var t=e.body,a=e.subject;return function(e){var n=e.role,r=void 0===n?"Mayor":n,c=e.lastName,o=void 0===c?"Iveson":c,i=e.ward,l=void 0===i?"":i;return["Hello ".concat(r," ").concat(o,",\n\n").concat(t,"\nConstituent from ").concat(l||"Edmonton"),a]}}(m)({role:r,lastName:a,ward:h(n)}),O=Object(u.a)(E,2),C=O[0],x=O[1],N=T.isMobile?[G].concat(Object(j.a)(K)):[].concat(Object(j.a)(K),[G]);return o.a.createElement(S.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:b}),o.a.createElement(k.a,{className:"text-content"},o.a.createElement(A.a,{variant:"h5",component:"h2"},b),o.a.createElement(A.a,{color:"textSecondary",paragraph:!0},v),o.a.createElement(A.a,{component:"pre",className:"template"},C))),o.a.createElement(p.c,null),o.a.createElement(w.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(ae,{email:l,subject:x,body:C,cc:m.ccAddresses&&m.ccAddresses.join(","),providers:N,onClick:function(){return g(!0)}}),o.a.createElement(y.a,{color:"primary",href:"tel:".concat(i)},o.a.createElement(B.a,{className:"left-icon"}),"Call"))),!1)};ce.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var oe=ce,ie=a(120),le=a.n(ie),ue=a(488),se=a.n(ue),me=(a(1001),a(228)),de=a.n(me),pe={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},fe=function(e){var t=e.isLoading,a=e.size,n=e.className,r=e.children;return t?o.a.createElement(de.a,{size:a,thickness:4.8,className:n}):r};fe.defaultProps=pe;var ge=fe,be=a(487),ve=a.n(be),he=function(e){var t=e.onClearQuery;return o.a.createElement(re.a,{"aria-label":"Clear",onClick:t},o.a.createElement(ve.a,null))};he.defaultProps={onClearQuery:D.a};var Ee=he,je={label:"",query:"",isLoading:!1,autoFocus:!0,onQueryChange:D.a,onClearQuery:D.a,ClearButton:Ee,SearchButton:function(){return o.a.createElement(re.a,{"aria-label":"Search"},o.a.createElement(se.a,null))},Input:le.a},Oe=function(e){var t=e.label,a=e.query,n=e.isLoading,r=e.autoFocus,c=e.onQueryChange,i=e.onClearQuery,l=e.ClearButton,u=e.SearchButton,s=e.Input;return o.a.createElement(S.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:r,placeholder:t,value:a,onChange:c}),o.a.createElement(ge,{isLoading:n,className:"loading"},a?o.a.createElement(l,{onClearQuery:i}):o.a.createElement(u,null)))};Oe.defaultProps=je;var ye=Oe,Ce=a(489),we=a(1246),xe=function(e){var t=e.debounceInMs;return function(e){var a=function(a){var n=a.onQueryChange,r=Object(s.a)(a,["onQueryChange"]),i=Object(c.useState)(""),l=Object(u.a)(i,2),m=l[0],d=l[1],p=Object(Ce.useDebouncedCallback)(n,t),f=Object(u.a)(p,1)[0],g=Object(we.a)([d,f]),b=Object(c.useCallback)((function(){return g("")}),[g]),v=Object(c.useCallback)((function(e){return g(e.target.value)}),[g]);return o.a.createElement(e,Object.assign({query:m,onQueryChange:v,onClearQuery:b},r))};return a.defaultProps={onQueryChange:D.a},a}}({debounceInMs:300})(ye);function ke(e,t){switch(t.type){case"startLoading":return{status:"loading",id:t.id};case"campaignLoaded":return{status:"loaded",campaign:t.campaign};case"loadFailed":return{status:"error",error:t.error};default:return e}}var Ne=a(490),Se=a.n(Ne),Ie=/^\s*([A-Za-z]\d[A-Za-z])[ -]?(\d[A-Za-z]\d)\s*$/i;function Ae(e){var t=Ie.exec(e);if(!t)return e;var a=Object(u.a)(t,3),n=a[1],r=a[2];return"".concat(n," ").concat(r)}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Se()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:Ae(e)}})},Be=function(e){var t=e.address,a=void 0===t?"":t,n=e.coords,r=void 0===n?{latitude:0,longitude:0}:n,o=Object(c.useState)(void 0),i=Object(u.a)(o,2),l=i[0],s=i[1],m=Object(c.useState)(void 0),d=Object(u.a)(m,2),p=d[0],f=d[1],g=Object(c.useMemo)((function(){return Object(V.a)(s,(function(){return f(a)}))}),[s,f,a]);return Object(c.useEffect)((function(){var e=r&&!a?function(e){var t=e.latitude,a=void 0===t?0:t,n=e.longitude;return Pe("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(a))}(r):Pe(a);return e.then(g),function(){return e.abort()}}),[a,r,g]),[l,p]},Fe={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},Re=function(e){var t=e.coords,a=Object(c.useState)(""),n=Object(u.a)(a,2),i=n[0],l=n[1],s=Be({address:i,coords:t}),m=Object(u.a)(s,2),d=m[0],f=m[1],b=h.parse(window.location.search),E=b.iframe_pls,j=function(e){var t=Object(c.useReducer)(ke,{status:"idle"}),a=Object(u.a)(t,2),n=a[0],o=a[1];return Object(c.useEffect)((function(){return o({type:"startLoading",id:e})}),[e]),Object(c.useEffect)((function(){if("loading"===n.status){var e=!1;return r.a.firestore().collection("campaigns").doc(n.id).get().then((function(t){if(!e){if(!t.exists)throw new Error("Cannot find email template. Please check that the link is update to date.");o({type:"campaignLoaded",campaign:t.data()})}})).catch((function(t){e||o({type:"loadFailed",error:t})})),function(){return e=!0}}}),[n]),[n.campaign,n.error]}(b.cid||"core_zone"),O=Object(u.a)(j,2),y=O[0],C=O[1],w=v()("app",{"iframe-pls":E});return Object(c.useEffect)((function(){y&&(document.title=y.subject)}),[y]),o.a.createElement("div",{className:w},o.a.createElement(g.a,null),o.a.createElement(xe,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:i!==f,autoFocus:!E}),o.a.createElement(p.l,{gutterBottom:!0}),C&&o.a.createElement(p.l,{variant:"subtitle1",color:"error"},C.message),d&&y&&o.a.createElement(oe,Object.assign({},d,{campaign:y})))};Re.defaultProps={coords:void 0};var De=Object(E.geolocated)(Fe)(Re),Te=a(89),Le=a(230),ze=a.n(Le),Me=a(232),Qe=a.n(Me),We=a(179),_e=a.n(We),Ue=a(233),He=a.n(Ue),Ge=a(234),Ke=a.n(Ge),Ve=a(235),qe=a.n(Ve),Ze=a(60),Je=a(231),Xe=a.n(Je),Ye=a(497),$e=a.n(Ye),et=o.a.createContext({}),tt=et;function at(e){var t=e.children,a=Object(c.useReducer)(nt,{status:"signedOut"}),n=Object(u.a)(a,2),i=n[0],l=n[1];return Object(c.useEffect)((function(){var e=r.a.auth().onAuthStateChanged((function(e){l(e?{type:"signInCompleted",user:e}:{type:"signOutCompleted"})}));return function(){return e()}}),[l]),Object(c.useEffect)((function(){"signingOut"===i.status&&r.a.auth().signOut()}),[i.status]),o.a.createElement(et.Provider,{value:a},t)}function nt(e,t){switch(t.type){case"signInCompleted":return Object(q.a)({},e,{status:"signedIn",user:t.user});case"signOut":return Object(q.a)({},e,{status:"signingOut"});case"signOutCompleted":return Object(q.a)({},e,{status:"signedOut",user:void 0});default:return e}}function rt(){var e=Object(c.useContext)(tt),t=Object(u.a)(e,2),a=t[0].user,n=t[1];return[a,function(){return n({type:"signOut"})}]}var ct=a(495),ot=a.n(ct);function it(){var e=rt(),t=Object(u.a)(e,1)[0],a=Object(c.useState)(),n=Object(u.a)(a,2),o=n[0],i=n[1],l=r.a.firestore();return Object(c.useEffect)((function(){var e=l.collection("campaigns").orderBy("createdOn").where("authorUid","==",t.uid).onSnapshot((function(e){i(e.docs)}));return function(){return e()}}),[l,t.uid]),[o,function(){l.collection("campaigns").add({authorUid:t.uid,createdOn:r.a.firestore.FieldValue.serverTimestamp(),subject:"",body:"I want safe and liveable streets.\n\nVote YES to slower streets in Edmonton's neighbourhoods.\n\nSincerely,",ccAddresses:["council@edmonton.ca","city.clerk@edmonton.ca"]}).catch((function(e){console.error(e)}))},function(e,t){l.collection("campaigns").doc(e).update(t).catch((function(e){console.error(e)}))},function(e){l.collection("campaigns").doc(e).delete().catch((function(e){console.error(e)}))}]}var lt=a(494),ut=a.n(lt),st=a(493),mt=a.n(st);var dt=Object(Ze.withStyles)((function(e){return{chipsAdornment:{alignSelf:"start",height:"auto",maxHeight:"initial",marginBottom:e.spacing.unit,flexWrap:"wrap"},chip:{marginRight:e.spacing.unit/2,marginTop:e.spacing.unit/2},input:{paddingTop:e.spacing.unit},inputIdle:{paddingBottom:e.spacing.unit}}}))((function(e){var t,a=e.classes,n=e.ccAddresses,i=e.update,l=Object(c.useState)(""),s=Object(u.a)(l,2),m=s[0],d=s[1],f=Object(c.useState)(!1),g=Object(u.a)(f,2),b=g[0],h=g[1],E=Object(c.useRef)(),O=n&&n.length>0,y=!O||b;return Object(c.useEffect)((function(){n&&n.length||d("")}),[n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(p.j,{label:"CC",margin:"normal",variant:"outlined",placeholder:"e.g. council@edmonton.ca, city.clerk@edmonton.ca",fullWidth:!0,multiline:!0,inputRef:E,value:m,onClick:function(){return E.current.focus()},onFocus:function(){return h(!0)},onChange:function(e){return d(e.currentTarget.value)},onBlur:function(){var e;h(!1),d("");var t=m.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}));if(!t.length)return;d(" "),i({ccAddresses:(e=r.a.firestore.FieldValue).arrayUnion.apply(e,Object(j.a)(t))})},InputProps:{className:v()((t={},Object(Te.a)(t,a.input,O),Object(Te.a)(t,a.inputIdle,O&&!y),t)),inputProps:y?void 0:{style:{height:0}},style:{flexDirection:"column"},startAdornment:O&&o.a.createElement(p.h,{position:"start",className:a.chipsAdornment,style:y?void 0:{marginBottom:0}},o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(p.b,{key:e,label:e,onDelete:(t=e,function(){i({ccAddresses:r.a.firestore.FieldValue.arrayRemove(t)})}),className:a.chip});var t}))))}}))})),pt=a(492),ft=a.n(pt),gt=a(491),bt=a.n(gt);var vt=Object(Ze.withStyles)((function(e){return{icon:{marginRight:.5*e.spacing.unit}}}))((function(e){var t=e.onDeleteConfirmed,a=e.classes,n=Object(c.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,i?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{"aria-label":"Cancel",onClick:function(){return l(!1)}},"Cancel"),o.a.createElement(p.a,{"aria-label":"Confirm delete",color:"secondary",onClick:t},o.a.createElement(bt.a,{className:a.icon}),"Delete")):o.a.createElement(o.a.Fragment,null,o.a.createElement(p.g,{"aria-label":"Delete",onClick:function(){return l(!0)}},o.a.createElement(ft.a,null))))}));var ht=function(e){var t=e.show,a=e.onHide,n=e.duration,r=void 0===n?3e3:n,i=e.children;return Object(c.useEffect)((function(){if(t){var e=setTimeout((function(){return a&&a()}),r);return function(){return clearTimeout(e)}}}),[t,a,r]),o.a.createElement(o.a.Fragment,null,t&&i)};var Et=Object(Ze.withStyles)((function(e){return{card:Object(q.a)({minWidth:275,marginBottom:4*e.spacing.unit},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},textContext:{maxWidth:"45em"},icon:{marginRight:.5*e.spacing.unit},actions:{display:"flex",alignItems:"end",marginTop:2*e.spacing.unit},copiedTextContainer:{flex:1,alignItems:"baseline",alignSelf:"baseline",display:"flex",flexDirection:"row",marginLeft:e.spacing.unit},templateGreeting:{alignSelf:"start",height:"auto",marginBottom:2*e.spacing.unit},templateClosing:{alignSelf:"end",height:"auto",marginLeft:0,marginTop:2*e.spacing.unit}}}))((function(e){var t=e.classes,a=e.id,n=e.subject,r=e.body,i=e.ccAddresses,l="".concat(window.location.origin,"/email-contact/?cid=").concat(a),s=Object(c.useRef)(),m=it(),d=Object(u.a)(m,4),f=d[2],g=d[3],b=Object(c.useState)(!1),v=Object(u.a)(b,2),h=v[0],E=v[1];return o.a.createElement("div",{key:a},o.a.createElement(S.a,{className:t.card,elevation:1},o.a.createElement(p.j,{label:"Subject",margin:"normal",variant:"outlined",fullWidth:!0,value:n,onChange:function(e){return f(a,{subject:e.target.value})}}),o.a.createElement(dt,{ccAddresses:i,update:function(e){return f(a,e)}}),o.a.createElement(p.j,{label:"Body template",multiline:!0,margin:"normal",variant:"outlined",fullWidth:!0,value:r,onChange:function(e){return f(a,{body:e.target.value})},InputProps:{style:{flexDirection:"column"},startAdornment:o.a.createElement(p.h,{position:"start",className:t.templateGreeting},o.a.createElement(p.k,{title:"automatically updated in live mode",placement:"right"},o.a.createElement(p.l,{variant:"body1",color:"textSecondary"},"Hello Councillor Knack,"))),endAdornment:o.a.createElement(p.h,{position:"end",className:t.templateClosing},o.a.createElement(p.k,{title:"automatically updated in live mode",placement:"right"},o.a.createElement(p.l,{variant:"body1",color:"textSecondary"},"Constituent from Ward 1")))}}),o.a.createElement("div",{className:t.actions},o.a.createElement(p.j,{variant:"standard",type:"url",label:"Shareable link",value:l,inputRef:s,onClick:function(){s.current.focus(),s.current.select(),document.execCommand("copy")&&E([])},InputProps:{readOnly:!0,endAdornment:o.a.createElement(p.h,{position:"end"},o.a.createElement(p.g,{href:l,target:"_blank",rel:"noreferrer noopener",onClick:function(e){return e.stopPropagation()},"aria-label":"preview in new tab"},o.a.createElement(mt.a,null)))},style:{flex:3,alignSelf:"baseline"},fullWidth:!0}),o.a.createElement("div",{className:t.copiedTextContainer},o.a.createElement(ht,{show:h,onHide:function(){return E(!1)}},o.a.createElement(ut.a,{fontSize:"small",color:"primary",style:{alignSelf:"center",marginBottom:4}}),o.a.createElement(p.l,{variant:"overline",color:"primary"},"Copied!"))),o.a.createElement(vt,{onDeleteConfirmed:function(){return g(a)}}))))}));var jt=Object(Ze.withStyles)((function(e){return{card:Object(q.a)({minWidth:275},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:e.spacing.unit}),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},textContext:{maxWidth:"45em"},icon:{marginRight:.5*e.spacing.unit},actions:{display:"flex",alignItems:"center",marginTop:2*e.spacing.unit}}}))((function(e){var t=e.classes,a=it(),n=Object(u.a)(a,2),r=n[0],c=n[1];return r?o.a.createElement("div",{className:t.textContext},r.map((function(e){var t=e.data();return o.a.createElement(Et,Object.assign({key:e.id,id:e.id},t))})),o.a.createElement(y.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:c},o.a.createElement(ot.a,{className:t.icon}),o.a.createElement("span",null,"Add new campign"))):o.a.createElement(o.a.Fragment,null,"Loading\u2026")}));var Ot=Object(Ze.withStyles)((function(e){var t;return t={root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},grow:{flexGrow:1},drawer:{width:0,flexShrink:0},drawerPaper:{width:0},emailDisplay:{display:"none"}},Object(Te.a)(t,e.breakpoints.up("md"),{drawer:{width:240},drawerPaper:{width:240},emailDisplay:{display:"inline-block"}}),Object(Te.a)(t,e.breakpoints.up("sm"),{emailDisplay:{display:"inline-block"}}),Object(Te.a)(t,"content",{flexGrow:1,padding:3*e.spacing.unit}),Object(Te.a)(t,"toolbar",e.mixins.toolbar),t}))((function(e){var t=rt(),a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)throw new Error("protected route");var c=e.classes,i=Object(d.i)(),l=i.path,s=i.url,p=!!Object(d.i)("".concat(l,"/campaigns"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{from:l,to:"".concat(l,"/campaigns")}),o.a.createElement("div",{className:c.root},o.a.createElement(ze.a,{position:"fixed",className:c.appBar},o.a.createElement(Xe.a,null,o.a.createElement(A.a,{variant:"h6",color:"inherit",className:c.grow},"Email Campaigns Admin Panel"),o.a.createElement(A.a,{variant:"body2",color:"inherit",className:c.emailDisplay},n.email),o.a.createElement(y.a,{color:"inherit",onClick:r},"Sign out"))),o.a.createElement(Qe.a,{className:c.drawer,variant:"permanent",classes:{paper:c.drawerPaper}},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(_e.a,null,o.a.createElement(He.a,{button:!0,component:m.b,to:"".concat(s,"/campaigns"),selected:p},o.a.createElement(Ke.a,null,o.a.createElement($e.a,null)),o.a.createElement(qe.a,{primary:"Campaigns"})))),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:l},o.a.createElement("h3",null,"Please select a topic.")),o.a.createElement(d.b,{path:"".concat(l,"/campaigns")},o.a.createElement(jt,null))))))})),yt=a(498),Ct=a.n(yt),wt={signInFlow:"redirect",signInOptions:[{provider:r.a.auth.EmailAuthProvider.PROVIDER_ID,signInMethod:r.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD}]};function xt(){var e=Object(d.g)(),t=Object(d.h)(),a=rt(),n=Object(u.a)(a,1)[0],i=(t.state||{from:{pathname:"/admin"}}).from;return Object(c.useEffect)((function(){n&&e.replace(i)}),[n,e,i]),o.a.createElement("div",null,o.a.createElement(Ct.a,{uiConfig:wt,firebaseAuth:r.a.auth()}))}function kt(e){var t=e.children,a=Object(s.a)(e,["children"]),n=rt(),r=Object(u.a)(n,1)[0];return o.a.createElement(d.b,Object.assign({},a,{render:function(e){var a=e.location;return r?t:o.a.createElement(d.a,{to:{pathname:"/login",state:{from:a}}})}}))}a(1238),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.initializeApp({apiKey:"AIzaSyCnK8Xx45B2IoKySAMpT4KKxZzTM39U7XM",authDomain:"email-contact-6bf7d.firebaseapp.com",databaseURL:"https://email-contact-6bf7d.firebaseio.com",projectId:"email-contact-6bf7d",storageBucket:"email-contact-6bf7d.appspot.com",messagingSenderId:"414763126743",appId:"1:414763126743:web:33459f34cf73e670934592",measurementId:"G-7B7J7X44VR"}),l.a.render(o.a.createElement((function(){return o.a.createElement(m.a,null,o.a.createElement(at,null,o.a.createElement("div",null,o.a.createElement(d.d,null,o.a.createElement(d.b,{path:"/login"},o.a.createElement(xt,null)),o.a.createElement(kt,{path:"/admin"},o.a.createElement(Ot,null)),o.a.createElement(d.b,{path:"/"},o.a.createElement(De,null))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},481:function(e,t,a){e.exports=a.p+"static/media/gmail.2db0d88c.ico"},482:function(e,t,a){e.exports=a.p+"static/media/outlook.759fade9.ico"},483:function(e,t,a){e.exports=a.p+"static/media/yahoo.9796ed78.ico"},565:function(e,t,a){e.exports=a(1239)},871:function(e,t,a){},933:function(e,t,a){},998:function(e,t,a){}},[[565,1,2]]]);
//# sourceMappingURL=main.b2dfe330.chunk.js.map