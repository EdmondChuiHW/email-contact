(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1010:function(e,n){},1011:function(e,n){},1059:function(e,n){},1061:function(e,n){},1084:function(e,n){},1178:function(e,n,t){},1179:function(e,n,t){},1191:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),c=t(155),r=t.n(c),i=(t(529),t(530),t(68)),l=(t(852),t(199)),s=t.n(l),u=t(417),d=t(418),m=t(41),f=t.n(m),v=t(204),b=t(116),p=t.n(b),h=t(156),g=t.n(h),j=t(196),y=t.n(j),E=t(421),w=t.n(E),O=t(420),C=t.n(O),N=(t(866),t(1192)),k=t(195),R=t.n(k),P={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},Q=function(e){var n=e.isLoading,t=e.size,a=e.className,c=e.children;return n?o.a.createElement(R.a,{size:t,thickness:4.8,className:a}):c};Q.defaultProps=P;var S=Q,x={label:"",query:"",isLoading:!1,onQueryChange:N.a,onClearQuery:N.a},I=function(e){var n=e.label,t=e.query,a=e.isLoading,c=e.onQueryChange,r=e.onClearQuery;return o.a.createElement(p.a,{className:"root",elevation:1},o.a.createElement(y.a,{autoComplete:"postal-code",className:"input",placeholder:n,autoFocus:!0,value:t,onChange:c}),o.a.createElement(S,{isLoading:a,className:"loading"},t?o.a.createElement(g.a,{"aria-label":"Clear",onClick:r},o.a.createElement(C.a,null)):o.a.createElement(g.a,{"aria-label":"Search"},o.a.createElement(w.a,null))))};I.defaultProps=x;var L=I,M=t(120),U=t(422),W=t(1196),_=function(e){var n=e.debounceInMs;return function(e){var t=function(t){var c=t.onQueryChange,r=Object(M.a)(t,["onQueryChange"]),l=Object(a.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(U.useDebouncedCallback)(c,n),f=Object(i.a)(m,1)[0],v=Object(W.a)([d,f]),b=Object(a.useCallback)(function(){return v("")},[]),p=Object(a.useCallback)(function(e){return v(e.target.value)},[]);return o.a.createElement(e,Object.assign({query:u,onQueryChange:p,onClearQuery:b},r))};return t.defaultProps={onQueryChange:N.a},t}}({debounceInMs:300})(L),A=t(1197),F=t(423),T=t.n(F),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},G=function(e){var n=e.address,t=void 0===n?"":n,o=e.coords,c=void 0===o?{latitude:0,longitude:0}:o,r=Object(a.useState)(void 0),l=Object(i.a)(r,2),s=l[0],u=l[1],d=Object(a.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],b=Object(A.a)(u,function(){return v(t)});return Object(a.useEffect)(function(){var e=c&&!t?function(e){var n=e.latitude,t=void 0===n?0:n,a=e.longitude;return q("geo: lng: ".concat(void 0===a?0:a,", lat: ").concat(t))}(c):q(t);return e.then(b),function(){return e.abort()}},[t,c]),[s,f]},Y=t(267),D=t(198),Z=t.n(D),z=t(197),B=t.n(z),H=t(102),J=t.n(H),$=t(429),K=t.n($),V=t(119),X=t.n(V),ee=t(1194),ne=t(1195),te=(t(1178),t(424)),ae=t(19),oe=o.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),ce={role:ae.string,lastName:ae.string,ward:ae.string},re=function(e){var n=e.role,t=e.lastName,a=e.ward;return o.a.createElement(o.a.Fragment,null,"Dear ".concat(n," ").concat(t,",\n\nI'm writing in support of the")," ",oe," ","proposal.\n\nThank you,\nResident of ".concat(a||"Edmonton"))};re.propTypes=ce,re.defaultProps={role:"Mayor",lastName:"Iveson",ward:""};var ie=Object(W.a)([function(e){var n=e.role,t=void 0===n?"Mayor":n,a=e.lastName,o=void 0===a?"Iveson":a,c=e.ward,r=void 0===c?"":c;return"Dear ".concat(t," ").concat(o,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(r||"Edmonton")},re,Object(N.a)("Support letter for #YEGCoreZone")]),le=t(207),se=t(1193),ue=t(157),de=t(430),me=(t(1179),{src:"",name:"",left:o.a.createElement(o.a.Fragment,null)}),fe=function(e){var n=e.src,t=e.name,a=e.left;return n?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:n,alt:t}):a};fe.defaultProps=me;var ve=fe,be={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},pe=function(e){var n=e.name,t=e.src,a=e.href,c=e.left;return o.a.createElement(J.a,{color:"primary",href:a,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(ve,{src:t,name:n,left:c}),o.a.createElement("span",null,n))};pe.defaultProps=be;var he=pe,ge=t(425),je={name:"Gmail",src:t.n(ge).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(t,"&cc=").concat(o,"&su=").concat(r,"&body=").concat(l)}},ye=t(426),Ee={name:"Outlook",src:t.n(ye).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(t,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},we=t(427),Oe={name:"Yahoo",src:t.n(we).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(t,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},Ce=t(428),Ne=t.n(Ce),ke={name:"Mail app",left:o.a.createElement(Ne.a,{className:"left-icon"}),hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(t,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(o)}},Re=[je,Ee,Oe],Pe=function(e){var n=e.subject,t=void 0===n?"":n,a=e.body,o=void 0===a?"":a,c=Object(M.a)(e,["subject","body"]);return Object(le.a)({subject:encodeURIComponent(t),body:encodeURIComponent(o)},c)},Qe={email:"",cc:"",subject:"",body:""},Se=Object(se.a)(Object(ue.a)(Qe)),xe=Object(A.a)(Se,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,n=function(n){var t=n.name,a=n.hrefResolver,c=Object(M.a)(n,["name","hrefResolver"]);return o.a.createElement(he,Object.assign({key:t,name:t,href:Object(A.a)(Pe,a)(e)},c))};return n.defaultProps={name:""},n}),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(le.a)({providers:Re},Qe);return Object(de.a)(xe(e),e.providers)},Le=function(e){var n=e.firstName,t=e.lastName,a=e.ward,c=e.role,r=e.phone,l=e.email,s=e.photoUrl,u="".concat(n," ").concat(t),d=Object(ee.a)(Object(ne.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(a)})(c),m=Object(ee.a)(Object(ne.a)("City"),Object(N.a)("Edmonton")),f=ie({role:c,lastName:t,ward:m(a)}),b=Object(i.a)(f,3),h=b[0],g=b[1],j=b[2],y=te.isMobile?[ke].concat(Object(Y.a)(Re)):[].concat(Object(Y.a)(Re),[ke]);return o.a.createElement(p.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(B.a,null,o.a.createElement(X.a,{variant:"h5",component:"h2"},u),o.a.createElement(X.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(X.a,{component:"pre",className:"template"},g))),o.a.createElement(v.a,null),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Ie,{email:l,subject:j,body:h,cc:"council@edmonton.ca",providers:y}),o.a.createElement(J.a,{color:"primary",href:"tel:".concat(r)},o.a.createElement(K.a,{className:"left-icon"}),"Call"))))};Le.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var Me=Le,Ue={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},We=function(e){var n=e.coords,t=Object(a.useState)(""),c=Object(i.a)(t,2),r=c[0],l=c[1],u=G({address:r,coords:n}),m=Object(i.a)(u,2),b=m[0],p=m[1],h=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":h});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(_,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:r!==p}),o.a.createElement(v.b,{gutterBottom:!0}),b&&o.a.createElement(Me,b))};We.defaultProps={coords:void 0};var _e=Object(u.geolocated)(Ue)(We),Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(_e,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/email-contact","/service-worker.js");Ae?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Fe(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Fe(n,e)})}}()},425:function(e,n,t){e.exports=t.p+"static/media/gmail.2db0d88c.ico"},426:function(e,n,t){e.exports=t.p+"static/media/outlook.759fade9.ico"},427:function(e,n,t){e.exports=t.p+"static/media/yahoo.9796ed78.ico"},524:function(e,n,t){e.exports=t(1191)},529:function(e,n,t){},852:function(e,n,t){},866:function(e,n,t){},977:function(e,n){},979:function(e,n){}},[[524,1,2]]]);
//# sourceMappingURL=main.06b25cfb.chunk.js.map