{"version":3,"sources":["components/loading/index.js","components/loading/Loading.js","components/search-bar/index.js","components/search-bar/search-bar.component.js","services/address2councillor.service.js","hooks/use-councillor/index.js","hooks/use-councillor/use-councillor.hook.js","utils/yeg-core-zone-template.js","components/email-button/email-button.js","services/email-providers/gmail-provider.js","services/email-providers/outlook-provider.js","services/email-providers/yahoo-provider.js","services/email-providers/mailto-provider.js","services/email-providers/index.js","services/email-providers/href-sanitizer.js","components/email-array/email-array.js","components/email-array/index.js","components/councillor-card/index.js","components/councillor-card/councillor-card.js","utils/geo-location-provider.js","App.js","serviceWorker.js","index.js","imgs/gmail.ico","imgs/outlook.ico","imgs/yahoo.ico"],"names":["Loading","_ref","_ref$isLoading","isLoading","_ref$size","size","_ref$className","className","children","react_default","a","createElement","CircularProgress_default","thickness","SearchBar","_ref$query","query","_ref$label","label","setQuery","clearQuery","useCallback","onChange","e","target","value","Paper_default","elevation","InputBase_default","autoComplete","placeholder","autoFocus","loading","IconButton_default","aria-label","onClick","Clear_default","Search_default","getCouncillorFromAddress","address","arguments","length","undefined","request","url","concat","process","json","qs","useCouncillor","_ref$address","_ref$coords","coords","latitude","longitude","_useState","useState","_useState2","Object","slicedToArray","councillor","setCouncillor","_useState3","_useState4","completedQuery","setCompletedQuery","onCouncillorLoaded","pipe","useEffect","req","_ref$latitude","_ref$longitude","getCouncillorFromGeo","then","abort","clickableCoreZone","href","rel","makeYegCoreZoneEmail","juxt","_ref$role","role","_ref$lastName","lastName","_ref$ward","ward","_ref2","_ref2$role","_ref2$lastName","_ref2$ward","Fragment","always","EmailButton","_ref2$name","name","_ref2$src","src","_ref2$href","_ref2$left","left","Button_default","color","_ref$src","_ref$name","_ref$left","width","height","alt","makeImgOrLeft","gmailProvider","gmailIcon","hrefResolver","_ref$email","email","_ref$cc","cc","_ref$subject","subject","_ref$body","body","outlookProvider","outlookIcon","yahooProvider","yahooIcon","mailToProvider","Email_default","commonEmailProviders","hrefSanitizer","rest","objectWithoutProperties","objectSpread","encodeURIComponent","defaultHrefResolverParams","hrefResolverParamsPicker","pick","keys","makeProviderToButtonMapperWithProps","hrefResolverParams","email_button_email_button","assign","key","EmailArray","props","providers","map","CouncillorCard","_ref$firstName","firstName","_ref$phone","phone","_ref$photoUrl","photoUrl","subtitle","when","startsWith","s","normalizeWard","_makeYegCoreZoneEmail","_makeYegCoreZoneEmail2","emailBody","emailDisplay","emailSubject","emailProviders","isMobile","toConsumableArray","CardContent_default","Typography_default","variant","component","paragraph","index_es","CardActions_default","components_email_array","Call_default","geolocationProvider","navigator","geolocation","geoLocatedConfig","positionOptions","enableHighAccuracy","timeout","userDecisionTimeout","geolocated","_useDebounce","useDebounce","debouncedQuery","_useCouncillor","_useCouncillor2","originalQuery","iframe_pls","queryString","window","location","search","classNames","iframe-pls","CssBaseline_default","search_bar","gutterBottom","components_councillor_card","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App_0","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.8939f0c2.chunk.js","sourcesContent":["import Loading from \"./Loading\";\n\nexport default Loading;\n","import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst Loading = ({isLoading = false, size = 24, className = '', children}) => isLoading\n  ? <CircularProgress size={size} thickness={4.8} className={className}/>\n  : children;\n\nexport default Loading;\n","import SearchBar from \"./search-bar.component\";\n\nexport default SearchBar;\n","import React, {useCallback} from 'react';\nimport Paper from \"@material-ui/core/Paper/index\";\nimport IconButton from \"@material-ui/core/IconButton/index\";\nimport InputBase from \"@material-ui/core/InputBase/index\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport './search-bar.component.css';\nimport Loading from \"../loading\";\n\nconst SearchBar = ({query = '', label = '', isLoading = false, setQuery}) => {\n  const clearQuery = useCallback(() => setQuery(''), []);\n  const onChange = useCallback(e => setQuery(e.target.value), []);\n\n  return <Paper className=\"root\" elevation={1}>\n    <InputBase\n      autoComplete=\"postal-code\"\n      className=\"input\"\n      placeholder={label}\n      autoFocus={true}\n      value={query}\n      onChange={onChange}\n    />\n    <Loading isLoading={isLoading} className=\"loading\">\n      {query\n        ? <IconButton aria-label=\"Clear\" onClick={clearQuery}>\n          <ClearIcon/>\n        </IconButton>\n        : <IconButton aria-label=\"Search\">\n          <SearchIcon/>\n        </IconButton>\n      }\n    </Loading>\n  </Paper>;\n};\n\nexport default SearchBar;\n","import request from \"request-promise-native\";\n\nexport const getCouncillorFromAddress = (address = '') => request({\n  url: `${process.env.REACT_APP_ADDRESS_SERVER_HOST}/address2councillor`,\n  json: true,\n  qs: {\n    address,\n  },\n});\n\nexport const getCouncillorFromGeo = ({latitude = 0, longitude = 0}) => (\n  getCouncillorFromAddress(`geo: lng: ${longitude}, lat: ${latitude}`)\n);\n","import useCouncillor from \"./use-councillor.hook\";\n\nexport default useCouncillor;\n","import {useEffect, useState} from 'react';\nimport {getCouncillorFromAddress, getCouncillorFromGeo} from \"../../services/address2councillor.service\";\nimport {pipe} from \"ramda\";\n\nconst useCouncillor = ({address = '', coords = {latitude: 0, longitude: 0}}) => {\n  const [councillor, setCouncillor] = useState(undefined);\n  const [completedQuery, setCompletedQuery] = useState(undefined);\n\n  const onCouncillorLoaded = pipe(\n    setCouncillor,\n    () => setCompletedQuery(address),\n  );\n\n  useEffect(() => {\n    const req = coords && !address\n      ? getCouncillorFromGeo(coords)\n      : getCouncillorFromAddress(address);\n    req.then(onCouncillorLoaded);\n    return () => req.abort();\n  }, [address, coords]);\n  return [councillor, completedQuery];\n};\n\nexport default useCouncillor;\n","import React from \"react\";\nimport {always, juxt} from \"ramda\";\n\nconst makeYegCoreZoneEmailBody = ({role = 'Mayor', lastName = 'Iveson', ward = ''}) =>\n  (`Dear ${role} ${lastName},\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ${ward || 'Edmonton'}`\n  );\n\nconst clickableCoreZone = <a\n  href=\"https://twitter.com/search?q=YEGCoreZone\"\n  target=\"_blank\"\n  rel=\"noopener noreferrer\">\n  #YEGCoreZone\n</a>;\n\nconst makeYegCoreZoneEmailDisplay = ({role = 'Mayor', lastName = 'Iveson', ward = ''}) =>\n  (<>{`Dear ${role} ${lastName},\n\nI'm writing in support of the`} {clickableCoreZone} {`proposal.\n\nThank you,\nResident of ${ward || 'Edmonton'}`}\n  </>);\n\nconst makeYegCoreZoneEmail = juxt([\n  makeYegCoreZoneEmailBody,\n  makeYegCoreZoneEmailDisplay,\n  always('Support letter for #YEGCoreZone'),\n]);\n\nexport default makeYegCoreZoneEmail;\n","import './email-button.css';\nimport Button from \"@material-ui/core/Button\";\nimport React from \"react\";\n\nconst makeImgOrLeft = ({src = '', name = '', left = <></>}) => {\n  return src\n    ? (\n      <img\n        className=\"left-icon button-img\"\n        width={24}\n        height={24}\n        src={src}\n        alt={name}\n      />\n    )\n    : left;\n};\n\nconst EmailButton = ({name = '', src = '', href = '', left = <></>}) => {\n  return <Button\n    color=\"primary\"\n    href={href}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n  >\n    {makeImgOrLeft({src, name, left})}\n    <span>{name}</span>\n  </Button>\n};\n\nexport default EmailButton;\n","import gmailIcon from \"../../imgs/gmail.ico\";\n\nconst hrefResolver = ({email = '', cc = '', subject = '', body = ''}) => (\n  // Sep 19 2016 http://stackoverflow.com/a/8852679/\n  `https://mail.google.com/mail/?view=cm&fs=1&to=${email}&cc=${cc}&su=${subject}&body=${body}`\n);\n\nconst gmailProvider = {\n  name: 'Gmail',\n  src: gmailIcon,\n  hrefResolver,\n};\n\nexport default gmailProvider;\n","import outlookIcon from \"../../imgs/outlook.ico\";\n\nconst hrefResolver = ({email = '', cc = '', subject = '', body = ''}) => (\n  // Apr 21 2019 https://blogs.msdn.microsoft.com/carloshm/2016/01/16/how-to-compose-a-new-message-or-event-and-populate-fields-in-office365/#comment-1645\n  // cc not support. Thanks Micro$0ft\n  `https://outlook.live.com/?path=/mail/action/compose&to=${email}&cc=${cc}&subject=${subject}&body=${body}`\n);\n\nconst outlookProvider = {\n  name: 'Outlook',\n  src: outlookIcon,\n  hrefResolver,\n};\n\nexport default outlookProvider;\n","import yahooIcon from \"../../imgs/yahoo.ico\";\n\nconst hrefResolver = ({email = '', cc = '', subject = '', body = ''}) => (\n  // Sep 19 2016 http://stackoverflow.com/a/30106907/1578294\n  `https://compose.mail.yahoo.com/?to=${email}&cc=${cc}&subject=${subject}&body=${body}`\n);\n\nconst yahooProvider = {\n  name: 'Yahoo',\n  src: yahooIcon,\n  hrefResolver,\n};\n\nexport default yahooProvider;\n","import EmailIcon from '@material-ui/icons/Email';\nimport React from \"react\";\n\nconst hrefResolver = ({email = '', cc = '', subject = '', body = ''}) => (\n  `mailto:${email}?subject=${subject}&body=${body}&cc=${cc}`\n);\n\nconst mailToProvider = {\n  name: 'Mail app',\n  left: <EmailIcon className=\"left-icon\"/>,\n  hrefResolver,\n};\n\nexport default mailToProvider;\n","import gmailProvider from \"./gmail-provider\";\nimport outlookProvider from \"./outlook-provider\";\nimport yahooProvider from \"./yahoo-provider\";\nimport mailToProvider from \"./mailto-provider\";\n\nexport {gmailProvider};\nexport {outlookProvider};\nexport {yahooProvider};\nexport {mailToProvider};\n\nconst commonEmailProviders = [gmailProvider, outlookProvider, yahooProvider];\nexport default commonEmailProviders;\n","const hrefSanitizer = ({subject = '', body = '', ...rest}) => ({\n  subject: encodeURIComponent(subject),\n  body: encodeURIComponent(body),\n  ...rest,\n});\n\nexport default hrefSanitizer;\n","import React from \"react\";\nimport {keys, map, pick, pipe} from \"ramda\";\nimport EmailButton from \"../email-button/email-button\";\nimport commonEmailProviders from \"../../services/email-providers\";\nimport hrefSanitizer from \"../../services/email-providers/href-sanitizer\";\n\nconst defaultHrefResolverParams = {email: '', cc: '', subject: '', body: ''};\n\nconst makeButtonFromProvider = (hrefResolverParams = defaultHrefResolverParams) =>\n  ({name = '', hrefResolver, ...rest}) => (\n    <EmailButton\n      key={name}\n      name={name}\n      href={pipe(hrefSanitizer, hrefResolver)(hrefResolverParams)}\n      {...rest}\n    />\n  );\n\nconst hrefResolverParamsPicker = pick(keys(defaultHrefResolverParams));\nconst makeProviderToButtonMapperWithProps = pipe(\n  hrefResolverParamsPicker,\n  makeButtonFromProvider,\n);\n\nconst EmailArray = (props = {providers: commonEmailProviders, ...defaultHrefResolverParams}) => (\n  map(makeProviderToButtonMapperWithProps(props), props.providers)\n);\n\nexport default EmailArray;\n","import EmailArray from \"./email-array\";\n\nexport default EmailArray;\n","import CouncillorCard from \"./councillor-card\";\n\nexport default CouncillorCard;\n","import React from 'react';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport CallIcon from '@material-ui/icons/Call';\nimport Typography from '@material-ui/core/Typography';\nimport {always, startsWith, when} from \"ramda\";\nimport './councillor-card.css';\nimport {Divider} from \"@material-ui/core\";\nimport makeYegCoreZoneEmail from \"../../utils/yeg-core-zone-template\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {isMobile} from \"react-device-detect\";\nimport EmailArray from \"../email-array\";\nimport commonEmailProviders, {mailToProvider} from \"../../services/email-providers\";\n\nconst defaultPhotoUrl = 'https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg';\nconst cc = 'council@edmonton.ca';\n\nconst CouncillorCard = ({firstName = '', lastName = '', ward = '', role = '', phone = '', email = '', photoUrl = defaultPhotoUrl}) => {\n  const name = `${firstName} ${lastName}`;\n  const subtitle = when(startsWith('Councillor'), s => `${s} â€“ ${ward}`)(role);\n  const normalizeWard = when(startsWith('City'), always('Edmonton'));\n\n  const [emailBody, emailDisplay, emailSubject] = makeYegCoreZoneEmail({role, lastName, ward: normalizeWard(ward)});\n  const emailProviders = isMobile\n    ? [mailToProvider, ...commonEmailProviders]\n    : [...commonEmailProviders, mailToProvider];\n\n  return <Paper>\n    <div className=\"contact\">\n      <img\n        className=\"image\"\n        src={photoUrl}\n        alt={name}\n      />\n      <CardContent>\n        <Typography variant=\"h5\" component=\"h2\">\n          {name}\n        </Typography>\n        <Typography color=\"textSecondary\" paragraph>\n          {subtitle}\n        </Typography>\n        <Typography component=\"pre\" className=\"template\">\n          {emailDisplay}\n        </Typography>\n      </CardContent>\n    </div>\n    <Divider/>\n    <CardActions>\n      <div className=\"email-array\">\n        <EmailArray\n          email={email}\n          subject={emailSubject}\n          body={emailBody}\n          cc={cc}\n          providers={emailProviders}\n        />\n        <Button color=\"primary\" href={`tel:${phone}`}>\n          <CallIcon className=\"left-icon\"/>\n          Call\n        </Button>\n      </div>\n    </CardActions>\n  </Paper>;\n};\n\nexport default CouncillorCard;\n","const geolocationProvider = typeof navigator !== \"undefined\" && navigator.geolocation;\n\nexport default geolocationProvider;\n","import React, {useState} from 'react';\nimport './App.css';\nimport {useDebounce} from \"use-debounce\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport SearchBar from \"./components/search-bar\";\nimport useCouncillor from \"./hooks/use-councillor\";\nimport CouncillorCard from \"./components/councillor-card\";\nimport {geolocated} from \"react-geolocated\";\nimport geolocationProvider from \"./utils/geo-location-provider\";\nimport * as queryString from \"query-string\";\nimport classNames from \"classnames\";\nimport {Typography} from \"@material-ui/core\";\n\nconst geoLocatedConfig = {\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 5000,\n  },\n  userDecisionTimeout: 5000,\n  geolocationProvider,\n};\n\nconst App = ({coords}) => {\n  const [query, setQuery] = useState('');\n  const [debouncedQuery] = useDebounce(query, 300);\n  const [councillor, originalQuery] = useCouncillor({address: debouncedQuery, coords});\n  const {iframe_pls} = queryString.parse(window.location.search);\n\n  const className = classNames(\n    'app',\n    {'iframe-pls': iframe_pls},\n  );\n\n  return (\n    <div className={className}>\n      <CssBaseline/>\n      <SearchBar\n        label=\"Find your councillor by postal code/address\"\n        query={query}\n        setQuery={setQuery}\n        isLoading={query !== debouncedQuery || debouncedQuery !== originalQuery}\n      />\n      <Typography gutterBottom/>\n      {councillor && <CouncillorCard {...councillor}/>}\n    </div>\n  );\n};\n\nexport default geolocated(geoLocatedConfig)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'core-js';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/gmail.2db0d88c.ico\";","module.exports = __webpack_public_path__ + \"static/media/outlook.759fade9.ico\";","module.exports = __webpack_public_path__ + \"static/media/yahoo.9796ed78.ico\";"],"sourceRoot":""}