(this["webpackJsonpemail-contact"]=this["webpackJsonpemail-contact"]||[]).push([[0],{1e3:function(e,t,a){},1026:function(e,t){},1028:function(e,t){},1058:function(e,t){},1059:function(e,t){},1124:function(e,t){},1236:function(e,t,a){},1237:function(e,t,a){"use strict";a.r(t);a(565),a(567),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588),a(589),a(590),a(591),a(592),a(187),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(609),a(610),a(612),a(613),a(615),a(616),a(254),a(618),a(619),a(620),a(621),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(629),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(645),a(646),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(664),a(665),a(666),a(667),a(669),a(670),a(671),a(672),a(673),a(674),a(675),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(358),a(691),a(692),a(693),a(694),a(359),a(695),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(708),a(709),a(710),a(711),a(712),a(713),a(714),a(715),a(716),a(717),a(718),a(719),a(720),a(721),a(722),a(723),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(265),a(745),a(746),a(747),a(748),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(770),a(771),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(784),a(785),a(786),a(787),a(788),a(789),a(790),a(791),a(792),a(793),a(794),a(795),a(796),a(797),a(798),a(799),a(800),a(801),a(802),a(803),a(804),a(805),a(806),a(807),a(808),a(809),a(810),a(811),a(812),a(813),a(814),a(815),a(816),a(817),a(820),a(821),a(822),a(823),a(824),a(825),a(826),a(827),a(828),a(829),a(830),a(831),a(832),a(833),a(834),a(835),a(837),a(370);var n=a(55),r=a.n(n),c=a(0),o=a.n(c),i=a(64),l=a.n(i),u=a(9),s=a(98),m=a(181),d=a(107),f=a(20),p=a(229),g=a.n(p),b=a(13),v=a.n(b),h=a(478),E=(a(867),a(182)),j=a(77),y=a.n(j),O=a(227),C=a.n(O),w=a(180),x=a.n(w),k=a(76),N=a.n(k),S=a(78),I=a.n(S),F=a(485),R=a.n(F),A=a(1241),G=a(1244),L=a(1242),P=a(479),B=a(480),M={name:"Gmail",src:a.n(B).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://mail.google.com/mail/?view=cm&fs=1&to=".concat(a,"&cc=").concat(r,"&su=").concat(o,"&body=").concat(l))}},D=a(481);var T={name:"Outlook",src:a.n(D).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://outlook.live.com/?path=/mail/action/compose&to=".concat(function(e,t){return t?"".concat(e,",").concat(t):e}(a,r),"&subject=").concat(o,"&body=").concat(l))}},z=a(482),Q={name:"Yahoo",src:a.n(z).a,hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return("https://compose.mail.yahoo.com/?to=".concat(a,"&cc=").concat(r,"&subject=").concat(o,"&body=").concat(l))}},W=a(236),_=a.n(W),U={name:"Mail app",left:o.a.createElement(_.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,a=void 0===t?"":t,n=e.cc,r=void 0===n?"":n,c=e.subject,o=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(a,"?subject=").concat(o,"&body=").concat(l,"&cc=").concat(r)}},q=[M,T,Q];var H=a(1245),K=a(88),V=function(e){var t=e.subject,a=void 0===t?"":t,n=e.body,r=void 0===n?"":n,c=Object(s.a)(e,["subject","body"]);return Object(K.a)({subject:encodeURIComponent(a),body:encodeURIComponent(r)},c)},Z=(a(931),{src:"",alt:"",left:o.a.createElement(o.a.Fragment,null)}),J=function(e){var t=e.src,a=e.alt,n=e.left;return t?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:t,alt:a}):n};J.defaultProps=Z;var X=J,Y={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null),onClick:void 0},$=function(e){var t=e.name,a=e.src,n=e.href,r=e.left,c=e.onClick;return o.a.createElement(y.a,{color:"primary",href:n,target:"_blank",rel:"noopener noreferrer",onClick:c},o.a.createElement(X,{src:a,alt:t,left:r}),o.a.createElement("span",null,t))};$.defaultProps=Y;var ee=$;var te=function(e){var t=e.providers,a=Object(s.a)(e,["providers"]);return t.map((function(e){var t=e.hrefResolver,n=e.name,r=Object(s.a)(e,["hrefResolver","name"]);return o.a.createElement(ee,Object.assign({key:n,name:n,href:Object(H.a)(V,t)(a)},a,r))}))},ae=(a(323),a(105)),ne=a.n(ae);a(484);a(996);var re=function(e){var t=e.firstName,a=e.lastName,n=e.ward,r=e.role,i=e.phone,l=e.email,s=e.photoUrl,m=e.campaign,d=Object(c.useState)(!1),p=Object(u.a)(d,2),g=(p[0],p[1]),b="".concat(t," ").concat(a),v=Object(A.a)(Object(G.a)("Councillor"),(function(e){return"".concat(e," \u2013 ").concat(n)}))(r),h=Object(A.a)(Object(G.a)("City"),Object(L.a)("Edmonton")),j=function(e){var t=e.body,a=e.subject;return function(e){var n=e.role,r=void 0===n?"Mayor":n,c=e.lastName,o=void 0===c?"Iveson":c,i=e.ward,l=void 0===i?"":i;return["Hello ".concat(r," ").concat(o,",\n\n").concat(t,"\nConstituent from ").concat(l||"Edmonton"),a]}}(m)({role:r,lastName:a,ward:h(n)}),O=Object(u.a)(j,2),w=O[0],k=O[1],S=P.isMobile?[U].concat(Object(E.a)(q)):[].concat(Object(E.a)(q),[U]);return o.a.createElement(N.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:b}),o.a.createElement(x.a,{className:"text-content"},o.a.createElement(I.a,{variant:"h5",component:"h2"},b),o.a.createElement(I.a,{color:"textSecondary",paragraph:!0},v),o.a.createElement(I.a,{component:"pre",className:"template"},w))),o.a.createElement(f.c,null),o.a.createElement(C.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(te,{email:l,subject:k,body:w,cc:m.ccAddresses&&m.ccAddresses.join(","),providers:S,onClick:function(){return g(!0)}}),o.a.createElement(y.a,{color:"primary",href:"tel:".concat(i)},o.a.createElement(R.a,{className:"left-icon"}),"Call"))),!1)};re.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var ce=re,oe=a(120),ie=a.n(oe),le=a(486),ue=a.n(le),se=function(e){var t=e.onClearQuery;return o.a.createElement(ne.a,{"aria-label":"Clear",onClick:t},o.a.createElement(ue.a,null))};se.defaultProps={onClearQuery:L.a};var me=se,de=a(228),fe=a.n(de),pe={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},ge=function(e){var t=e.isLoading,a=e.size,n=e.className,r=e.children;return t?o.a.createElement(fe.a,{size:a,thickness:4.8,className:n}):r};ge.defaultProps=pe;var be=ge,ve=a(487),he=a.n(ve);function Ee(e){var t=e.children,a=e.onClick;return navigator.geolocation?o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{onClick:a,"aria-label":"Use your location to find the area councillor"},o.a.createElement(he.a,null))):o.a.createElement(o.a.Fragment,null,t)}a(1e3);var je={label:"",query:"",isLoading:!1,autoFocus:!0,onQueryChange:L.a,onClearQuery:L.a,onRequestCurrentLocation:L.a,ClearButton:me,Input:ie.a},ye=function(e){var t=e.label,a=e.query,n=e.isLoading,r=e.autoFocus,c=e.onQueryChange,i=e.onClearQuery,l=e.onRequestCurrentLocation,u=e.ClearButton,s=e.Input;return o.a.createElement(N.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:r,placeholder:t,value:a,onChange:c}),o.a.createElement(be,{isLoading:n,className:"loading"},a?o.a.createElement(u,{onClearQuery:i}):o.a.createElement(Ee,{onClick:l})))};ye.defaultProps=je;var Oe=ye,Ce=a(488),we=a(1243),xe=function(e){var t=e.debounceInMs;return function(e){var a=function(a){var n=a.onQueryChange,r=Object(s.a)(a,["onQueryChange"]),i=Object(c.useState)(""),l=Object(u.a)(i,2),m=l[0],d=l[1],f=Object(Ce.useDebouncedCallback)(n,t),p=Object(u.a)(f,1)[0],g=Object(we.a)([d,p]),b=Object(c.useCallback)((function(){return g("")}),[g]),v=Object(c.useCallback)((function(e){return g(e.target.value)}),[g]);return o.a.createElement(e,Object.assign({query:m,onQueryChange:v,onClearQuery:b},r))};return a.defaultProps={onQueryChange:L.a},a}}({debounceInMs:300})(Oe);function ke(e,t){switch(t.type){case"startLoading":return{status:"loading",id:t.id};case"campaignLoaded":return{status:"loaded",campaign:t.campaign};case"loadFailed":return{status:"error",error:t.error};default:return e}}var Ne=a(489),Se=a.n(Ne),Ie=/^\s*([A-Za-z]\d[A-Za-z])[ -]?(\d[A-Za-z]\d)\s*$/i;function Fe(e){var t=Ie.exec(e);if(!t)return e;var a=Object(u.a)(t,3),n=a[1],r=a[2];return"".concat(n," ").concat(r)}var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Se()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:Fe(e)}})},Ae=function(e){var t=e.address,a=void 0===t?"":t,n=e.coords,r=void 0===n?{latitude:0,longitude:0}:n,o=Object(c.useState)(void 0),i=Object(u.a)(o,2),l=i[0],s=i[1],m=Object(c.useState)(void 0),d=Object(u.a)(m,2),f=d[0],p=d[1],g=Object(c.useMemo)((function(){return Object(H.a)(s,(function(){return p(a)}))}),[s,p,a]);return Object(c.useEffect)((function(){var e=r&&!a?function(e){var t=e.latitude,a=void 0===t?0:t,n=e.longitude;return Re("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(a))}(r):Re(a);return e.then(g),function(){return e.abort()}}),[a,r,g]),[l,f]};function Ge(e,t){switch(t.type){case"getCurrentGeo":return{status:"resolvingCurrentGeo"};case"onGetCurrentGeoSuccess":return{status:"coordsResolved",coords:t.coords};case"onGetCurrentGeoFail":return{status:"error",errorMessage:t.errorMessage};default:return e}}var Le=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableLocateOnLoad,a=void 0!==t&&t,n=Object(c.useReducer)(Ge,{status:"idle"}),r=Object(u.a)(n,2),o=r[0],i=r[1];Object(c.useEffect)((function(){if("resolvingCurrentGeo"===o.status){if(navigator.geolocation){var e=!1;return navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;if(e)return;i({type:"onGetCurrentGeoSuccess",coords:a})}),(function(){if(e)return;i({type:"onGetCurrentGeoFail",errorMessage:"Unable to retrieve your location"})}),{timeout:15e3}),function(){return e=!0}}i({type:"onGetCurrentGeoFail",errorMessage:"Geolocation is not supported by your browser"})}}),[o]),Object(c.useEffect)((function(){a||i({type:"getCurrentGeo"})}),[a]);var l="resolvingCurrentGeo"===o.status;return[o.coords,o.errorMessage,l,s];function s(){"resolvingCurrentGeo"!==o.status&&i({type:"getCurrentGeo"})}}({disableLocateOnLoad:!0}),t=Object(u.a)(e,4),a=t[0],n=t[1],i=t[2],l=t[3],s=Object(c.useState)(""),m=Object(u.a)(s,2),d=m[0],p=m[1],b=Ae({address:d,coords:a}),E=Object(u.a)(b,2),j=E[0],y=E[1],O=h.parse(window.location.search),C=O.iframe_pls,w=function(e){var t=Object(c.useReducer)(ke,{status:"idle"}),a=Object(u.a)(t,2),n=a[0],o=a[1];return Object(c.useEffect)((function(){return o({type:"startLoading",id:e})}),[e]),Object(c.useEffect)((function(){if("loading"===n.status){var e=!1;return r.a.firestore().collection("campaigns").doc(n.id).get().then((function(t){if(!e){if(!t.exists)throw new Error("Cannot find email template. Please check that the link is update to date.");o({type:"campaignLoaded",campaign:t.data()})}})).catch((function(t){e||o({type:"loadFailed",error:t})})),function(){return e=!0}}}),[n]),[n.campaign,n.error]}(O.cid||"core_zone"),x=Object(u.a)(w,2),k=x[0],N=x[1],S=v()("app",{"iframe-pls":C});Object(c.useEffect)((function(){k&&(document.title=k.subject)}),[k]);var I=n||i&&"Finding your area councillor with your location\u2026"||"Find your councillor by postal code/address";return o.a.createElement("div",{className:S},o.a.createElement(g.a,null),o.a.createElement(xe,{label:I,onQueryChange:p,onRequestCurrentLocation:l,isLoading:d!==y,autoFocus:!C}),o.a.createElement(f.l,{gutterBottom:!0}),N&&o.a.createElement(f.l,{variant:"subtitle1",color:"error"},N.message),j&&k&&o.a.createElement(ce,Object.assign({},j,{campaign:k})))},Pe=a(89),Be=a(230),Me=a.n(Be),De=a(232),Te=a.n(De),ze=a(179),Qe=a.n(ze),We=a(233),_e=a.n(We),Ue=a(234),qe=a.n(Ue),He=a(235),Ke=a.n(He),Ve=a(60),Ze=a(231),Je=a.n(Ze),Xe=a(496),Ye=a.n(Xe),$e=o.a.createContext({}),et=$e;function tt(e){var t=e.children,a=Object(c.useReducer)(at,{status:"signedOut"}),n=Object(u.a)(a,2),i=n[0],l=n[1];return Object(c.useEffect)((function(){var e=r.a.auth().onAuthStateChanged((function(e){l(e?{type:"signInCompleted",user:e}:{type:"signOutCompleted"})}));return function(){return e()}}),[l]),Object(c.useEffect)((function(){"signingOut"===i.status&&r.a.auth().signOut()}),[i.status]),o.a.createElement($e.Provider,{value:a},t)}function at(e,t){switch(t.type){case"signInCompleted":return Object(K.a)({},e,{status:"signedIn",user:t.user});case"signOut":return Object(K.a)({},e,{status:"signingOut"});case"signOutCompleted":return Object(K.a)({},e,{status:"signedOut",user:void 0});default:return e}}function nt(){var e=Object(c.useContext)(et),t=Object(u.a)(e,2),a=t[0].user,n=t[1];return[a,function(){return n({type:"signOut"})}]}var rt=a(494),ct=a.n(rt);function ot(){var e=nt(),t=Object(u.a)(e,1)[0],a=Object(c.useState)(),n=Object(u.a)(a,2),o=n[0],i=n[1],l=r.a.firestore();return Object(c.useEffect)((function(){var e=l.collection("campaigns").orderBy("createdOn").where("authorUid","==",t.uid).onSnapshot((function(e){i(e.docs)}));return function(){return e()}}),[l,t.uid]),[o,function(){l.collection("campaigns").add({authorUid:t.uid,createdOn:r.a.firestore.FieldValue.serverTimestamp(),subject:"",body:"I want safe and liveable streets.\n\nVote YES to slower streets in Edmonton's neighbourhoods.\n\nSincerely,",ccAddresses:["council@edmonton.ca","city.clerk@edmonton.ca"]}).catch((function(e){console.error(e)}))},function(e,t){l.collection("campaigns").doc(e).update(t).catch((function(e){console.error(e)}))},function(e){l.collection("campaigns").doc(e).delete().catch((function(e){console.error(e)}))}]}var it=a(493),lt=a.n(it),ut=a(492),st=a.n(ut);var mt=Object(Ve.withStyles)((function(e){return{chipsAdornment:{alignSelf:"start",height:"auto",maxHeight:"initial",marginBottom:e.spacing.unit,flexWrap:"wrap"},chip:{marginRight:e.spacing.unit/2,marginTop:e.spacing.unit/2},input:{paddingTop:e.spacing.unit},inputIdle:{paddingBottom:e.spacing.unit}}}))((function(e){var t,a=e.classes,n=e.ccAddresses,i=e.update,l=Object(c.useState)(""),s=Object(u.a)(l,2),m=s[0],d=s[1],p=Object(c.useState)(!1),g=Object(u.a)(p,2),b=g[0],h=g[1],j=Object(c.useRef)(),y=n&&n.length>0,O=!y||b;return Object(c.useEffect)((function(){n&&n.length||d("")}),[n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(f.j,{label:"CC",margin:"normal",variant:"outlined",placeholder:"e.g. council@edmonton.ca, city.clerk@edmonton.ca",fullWidth:!0,multiline:!0,inputRef:j,value:m,onClick:function(){return j.current.focus()},onFocus:function(){return h(!0)},onChange:function(e){return d(e.currentTarget.value)},onBlur:function(){var e;h(!1),d("");var t=m.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}));if(!t.length)return;d(" "),i({ccAddresses:(e=r.a.firestore.FieldValue).arrayUnion.apply(e,Object(E.a)(t))})},InputProps:{className:v()((t={},Object(Pe.a)(t,a.input,y),Object(Pe.a)(t,a.inputIdle,y&&!O),t)),inputProps:O?void 0:{style:{height:0}},style:{flexDirection:"column"},startAdornment:y&&o.a.createElement(f.h,{position:"start",className:a.chipsAdornment,style:O?void 0:{marginBottom:0}},o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(f.b,{key:e,label:e,onDelete:(t=e,function(){i({ccAddresses:r.a.firestore.FieldValue.arrayRemove(t)})}),className:a.chip});var t}))))}}))})),dt=a(491),ft=a.n(dt),pt=a(490),gt=a.n(pt);var bt=Object(Ve.withStyles)((function(e){return{icon:{marginRight:.5*e.spacing.unit}}}))((function(e){var t=e.onDeleteConfirmed,a=e.classes,n=Object(c.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,i?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{"aria-label":"Cancel",onClick:function(){return l(!1)}},"Cancel"),o.a.createElement(f.a,{"aria-label":"Confirm delete",color:"secondary",onClick:t},o.a.createElement(gt.a,{className:a.icon}),"Delete")):o.a.createElement(o.a.Fragment,null,o.a.createElement(f.g,{"aria-label":"Delete",onClick:function(){return l(!0)}},o.a.createElement(ft.a,null))))}));var vt=function(e){var t=e.show,a=e.onHide,n=e.duration,r=void 0===n?3e3:n,i=e.children;return Object(c.useEffect)((function(){if(t){var e=setTimeout((function(){return a&&a()}),r);return function(){return clearTimeout(e)}}}),[t,a,r]),o.a.createElement(o.a.Fragment,null,t&&i)};var ht=Object(Ve.withStyles)((function(e){return{card:Object(K.a)({minWidth:275,marginBottom:4*e.spacing.unit},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},textContext:{maxWidth:"45em"},icon:{marginRight:.5*e.spacing.unit},actions:{display:"flex",alignItems:"end",marginTop:2*e.spacing.unit},copiedTextContainer:{flex:1,alignItems:"baseline",alignSelf:"baseline",display:"flex",flexDirection:"row",marginLeft:e.spacing.unit},templateGreeting:{alignSelf:"start",height:"auto",marginBottom:2*e.spacing.unit},templateClosing:{alignSelf:"end",height:"auto",marginLeft:0,marginTop:2*e.spacing.unit}}}))((function(e){var t=e.classes,a=e.id,n=e.subject,r=e.body,i=e.ccAddresses,l="".concat(window.location.origin,"/email-contact/?cid=").concat(a),s=Object(c.useRef)(),m=ot(),d=Object(u.a)(m,4),p=d[2],g=d[3],b=Object(c.useState)(!1),v=Object(u.a)(b,2),h=v[0],E=v[1];return o.a.createElement("div",{key:a},o.a.createElement(N.a,{className:t.card,elevation:1},o.a.createElement(f.j,{label:"Subject",margin:"normal",variant:"outlined",fullWidth:!0,value:n,onChange:function(e){return p(a,{subject:e.target.value})}}),o.a.createElement(mt,{ccAddresses:i,update:function(e){return p(a,e)}}),o.a.createElement(f.j,{label:"Body template",multiline:!0,margin:"normal",variant:"outlined",fullWidth:!0,value:r,onChange:function(e){return p(a,{body:e.target.value})},InputProps:{style:{flexDirection:"column"},startAdornment:o.a.createElement(f.h,{position:"start",className:t.templateGreeting},o.a.createElement(f.k,{title:"automatically updated in live mode",placement:"right"},o.a.createElement(f.l,{variant:"body1",color:"textSecondary"},"Hello Councillor Knack,"))),endAdornment:o.a.createElement(f.h,{position:"end",className:t.templateClosing},o.a.createElement(f.k,{title:"automatically updated in live mode",placement:"right"},o.a.createElement(f.l,{variant:"body1",color:"textSecondary"},"Constituent from Ward 1")))}}),o.a.createElement("div",{className:t.actions},o.a.createElement(f.j,{variant:"standard",type:"url",label:"Shareable link",value:l,inputRef:s,onClick:function(){s.current.focus(),s.current.select(),document.execCommand("copy")&&E([])},InputProps:{readOnly:!0,endAdornment:o.a.createElement(f.h,{position:"end"},o.a.createElement(f.g,{href:l,target:"_blank",rel:"noreferrer noopener",onClick:function(e){return e.stopPropagation()},"aria-label":"preview in new tab"},o.a.createElement(st.a,null)))},style:{flex:3,alignSelf:"baseline"},fullWidth:!0}),o.a.createElement("div",{className:t.copiedTextContainer},o.a.createElement(vt,{show:h,onHide:function(){return E(!1)}},o.a.createElement(lt.a,{fontSize:"small",color:"primary",style:{alignSelf:"center",marginBottom:4}}),o.a.createElement(f.l,{variant:"overline",color:"primary"},"Copied!"))),o.a.createElement(bt,{onDeleteConfirmed:function(){return g(a)}}))))}));var Et=Object(Ve.withStyles)((function(e){return{card:Object(K.a)({minWidth:275},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:e.spacing.unit}),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},textContext:{maxWidth:"45em"},icon:{marginRight:.5*e.spacing.unit},actions:{display:"flex",alignItems:"center",marginTop:2*e.spacing.unit}}}))((function(e){var t=e.classes,a=ot(),n=Object(u.a)(a,2),r=n[0],c=n[1];return r?o.a.createElement("div",{className:t.textContext},r.map((function(e){var t=e.data();return o.a.createElement(ht,Object.assign({key:e.id,id:e.id},t))})),o.a.createElement(y.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:c},o.a.createElement(ct.a,{className:t.icon}),o.a.createElement("span",null,"Add new campign"))):o.a.createElement(o.a.Fragment,null,"Loading\u2026")}));var jt=Object(Ve.withStyles)((function(e){var t;return t={root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},grow:{flexGrow:1},drawer:{width:0,flexShrink:0},drawerPaper:{width:0},emailDisplay:{display:"none"}},Object(Pe.a)(t,e.breakpoints.up("md"),{drawer:{width:240},drawerPaper:{width:240},emailDisplay:{display:"inline-block"}}),Object(Pe.a)(t,e.breakpoints.up("sm"),{emailDisplay:{display:"inline-block"}}),Object(Pe.a)(t,"content",{flexGrow:1,padding:3*e.spacing.unit}),Object(Pe.a)(t,"toolbar",e.mixins.toolbar),t}))((function(e){var t=nt(),a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)throw new Error("protected route");var c=e.classes,i=Object(d.i)(),l=i.path,s=i.url,f=!!Object(d.i)("".concat(l,"/campaigns"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{from:l,to:"".concat(l,"/campaigns")}),o.a.createElement("div",{className:c.root},o.a.createElement(Me.a,{position:"fixed",className:c.appBar},o.a.createElement(Je.a,null,o.a.createElement(I.a,{variant:"h6",color:"inherit",className:c.grow},"Email Campaigns Admin Panel"),o.a.createElement(I.a,{variant:"body2",color:"inherit",className:c.emailDisplay},n.email),o.a.createElement(y.a,{color:"inherit",onClick:r},"Sign out"))),o.a.createElement(Te.a,{className:c.drawer,variant:"permanent",classes:{paper:c.drawerPaper}},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(Qe.a,null,o.a.createElement(_e.a,{button:!0,component:m.b,to:"".concat(s,"/campaigns"),selected:f},o.a.createElement(qe.a,null,o.a.createElement(Ye.a,null)),o.a.createElement(Ke.a,{primary:"Campaigns"})))),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:l},o.a.createElement("h3",null,"Please select a topic.")),o.a.createElement(d.b,{path:"".concat(l,"/campaigns")},o.a.createElement(Et,null))))))})),yt=a(497),Ot=a.n(yt),Ct={signInFlow:"redirect",signInOptions:[{provider:r.a.auth.EmailAuthProvider.PROVIDER_ID,signInMethod:r.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD}]};function wt(){var e=Object(d.g)(),t=Object(d.h)(),a=nt(),n=Object(u.a)(a,1)[0],i=(t.state||{from:{pathname:"/admin"}}).from;return Object(c.useEffect)((function(){n&&e.replace(i)}),[n,e,i]),o.a.createElement("div",null,o.a.createElement(Ot.a,{uiConfig:Ct,firebaseAuth:r.a.auth()}))}function xt(e){var t=e.children,a=Object(s.a)(e,["children"]),n=nt(),r=Object(u.a)(n,1)[0];return o.a.createElement(d.b,Object.assign({},a,{render:function(e){var a=e.location;return r?t:o.a.createElement(d.a,{to:{pathname:"/login",state:{from:a}}})}}))}a(1236),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.initializeApp({apiKey:"AIzaSyCnK8Xx45B2IoKySAMpT4KKxZzTM39U7XM",authDomain:"email-contact-6bf7d.firebaseapp.com",databaseURL:"https://email-contact-6bf7d.firebaseio.com",projectId:"email-contact-6bf7d",storageBucket:"email-contact-6bf7d.appspot.com",messagingSenderId:"414763126743",appId:"1:414763126743:web:33459f34cf73e670934592",measurementId:"G-7B7J7X44VR"}),l.a.render(o.a.createElement((function(){return o.a.createElement(m.a,null,o.a.createElement(tt,null,o.a.createElement("div",null,o.a.createElement(d.d,null,o.a.createElement(d.b,{path:"/login"},o.a.createElement(wt,null)),o.a.createElement(xt,{path:"/admin"},o.a.createElement(jt,null)),o.a.createElement(d.b,{path:"/"},o.a.createElement(Le,null))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},480:function(e,t,a){e.exports=a.p+"static/media/gmail.2db0d88c.ico"},481:function(e,t,a){e.exports=a.p+"static/media/outlook.759fade9.ico"},482:function(e,t,a){e.exports=a.p+"static/media/yahoo.9796ed78.ico"},564:function(e,t,a){e.exports=a(1237)},867:function(e,t,a){},931:function(e,t,a){},996:function(e,t,a){}},[[564,1,2]]]);
//# sourceMappingURL=main.8bab8561.chunk.js.map