(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,o){e.exports=o.p+"static/media/gmail.2db0d88c.ico"},263:function(e,t,o){e.exports=o.p+"static/media/outlook.759fade9.ico"},264:function(e,t,o){e.exports=o.p+"static/media/yahoo.9796ed78.ico"},365:function(e,t,o){e.exports=o(710)},370:function(e,t,o){},371:function(e,t,o){},373:function(e,t,o){},488:function(e,t){},490:function(e,t){},521:function(e,t){},522:function(e,t){},570:function(e,t){},572:function(e,t){},595:function(e,t){},689:function(e,t,o){},690:function(e,t,o){},710:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(83),r=o.n(c),i=(o(370),o(42)),l=(o(371),o(256)),s=o(108),d=o.n(s),u=o(61),m=o.n(u),v=o(84),f=o.n(v),b=o(105),p=o.n(b),h=o(259),g=o.n(h),E=o(258),j=o.n(E),y=(o(373),o(104)),w=o.n(y),O=function(e){var t=e.isLoading,o=void 0!==t&&t,n=e.size,c=void 0===n?24:n,r=e.className,i=void 0===r?"":r,l=e.children;return o?a.a.createElement(w.a,{size:c,thickness:4.8,className:i}):l},k=function(e){var t=e.query,o=void 0===t?"":t,c=e.label,r=void 0===c?"":c,i=e.isLoading,l=void 0!==i&&i,s=e.setQuery,d=Object(n.useCallback)(function(){return s("")},[]),u=Object(n.useCallback)(function(e){return s(e.target.value)},[]);return a.a.createElement(m.a,{className:"root",elevation:1},a.a.createElement(p.a,{autoComplete:"postal-code",className:"input",placeholder:r,autoFocus:!0,value:o,onChange:u}),a.a.createElement(O,{isLoading:l,className:"loading"},o?a.a.createElement(f.a,{"aria-label":"Clear",onClick:d},a.a.createElement(j.a,null)):a.a.createElement(f.a,{"aria-label":"Search"},a.a.createElement(g.a,null))))},N=o(260),C=o.n(N),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C()({url:"https://address2contact.herokuapp.com/address2councillor",json:!0,qs:{address:e}})},x=o(715),S=function(e){var t=e.address,o=void 0===t?"":t,a=e.coords,c=void 0===a?{latitude:0,longitude:0}:a,r=Object(n.useState)(void 0),l=Object(i.a)(r,2),s=l[0],d=l[1],u=Object(n.useState)(void 0),m=Object(i.a)(u,2),v=m[0],f=m[1],b=Object(x.a)(d,function(){return f(o)});return Object(n.useEffect)(function(){var e=c&&!o?function(e){var t=e.latitude,o=void 0===t?0:t,n=e.longitude;return R("geo: lng: ".concat(void 0===n?0:n,", lat: ").concat(o))}(c):R(o);return e.then(b),function(){return e.abort()}},[o,c]),[s,v]},I=o(107),W=o.n(I),_=o(106),A=o.n(_),L=o(47),U=o.n(L),G=o(266),M=o.n(G),T=o(265),Y=o.n(T),q=o(64),D=o.n(q),Z=o(712),B=o(713),F=o(711),P=(o(689),o(113)),z=o(714),H=a.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),J=Object(z.a)([function(e){var t=e.role,o=void 0===t?"Mayor":t,n=e.lastName,a=void 0===n?"Iveson":n,c=e.ward,r=void 0===c?"":c;return"Dear ".concat(o," ").concat(a,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(r||"Edmonton")},function(e){var t=e.role,o=void 0===t?"Mayor":t,n=e.lastName,c=void 0===n?"Iveson":n,r=e.ward,i=void 0===r?"":r;return a.a.createElement(a.a.Fragment,null,"Dear ".concat(o," ").concat(c,",\n\nI'm writing in support of the")," ",H," ","proposal.\n\nThank you,\nResident of ".concat(i||"Edmonton"))},Object(F.a)("Support letter for #YEGCoreZone")]),Q=o(261),V=o(269),$=o(262),K=o.n($),X=o(270),ee=o(271),te=function(e){var t=e.subject,o=void 0===t?"":t,n=e.body,a=void 0===n?"":n,c=Object(ee.a)(e,["subject","body"]);return Object(X.a)({subject:encodeURIComponent(o),body:encodeURIComponent(a)},c)},oe={name:"Gmail",src:K.a,hrefResolver:Object(x.a)(te,function(e){var t=e.email,o=void 0===t?"":t,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(o,"&cc=").concat(a,"&su=").concat(r,"&body=").concat(l)})},ne=o(263),ae={name:"Outlook",src:o.n(ne).a,hrefResolver:Object(x.a)(te,function(e){var t=e.email,o=void 0===t?"":t,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(o,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)})},ce=o(264),re=[oe,ae,{name:"Yahoo",src:o.n(ce).a,hrefResolver:Object(x.a)(te,function(e){var t=e.email,o=void 0===t?"":t,n=e.cc,a=void 0===n?"":n,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(o,"&cc=").concat(a,"&subject=").concat(r,"&body=").concat(l)})}],ie=(o(690),function(e){var t=e.name,o=void 0===t?"":t,n=e.src,c=void 0===n?"":n,r=e.href,i=void 0===r?"":r;return a.a.createElement(U.a,{color:"primary",href:i,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:c,alt:o}),o)}),le=function(e){var t=e.email,o=void 0===t?"":t,n=e.cc,c=void 0===n?"":n,r=e.subject,i=void 0===r?"":r,l=e.body,s=void 0===l?"":l;return Object(V.a)(function(e){var t=e.email,o=void 0===t?"":t,n=e.cc,c=void 0===n?"":n,r=e.subject,i=void 0===r?"":r,l=e.body,s=void 0===l?"":l;return function(e){var t=e.name,n=void 0===t?"":t,r=e.src,l=void 0===r?"":r,d=e.hrefResolver;return a.a.createElement(ie,{key:n,name:n,src:l,href:d({email:o,cc:c,subject:i,body:s})})}}({email:o,cc:c,subject:i,body:s}))(re)},se=function(e){var t=e.firstName,o=void 0===t?"":t,n=e.lastName,c=void 0===n?"":n,r=e.ward,l=void 0===r?"":r,s=e.role,d=void 0===s?"":s,u=e.phone,v=void 0===u?"":u,f=e.email,b=void 0===f?"":f,p=e.photoUrl,h=void 0===p?"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg":p,g="".concat(o," ").concat(c),E=Object(Z.a)(Object(B.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(l)})(d),j=Object(Z.a)(Object(B.a)("City"),Object(F.a)("Edmonton")),y=J({role:d,lastName:c,ward:j(l)}),w=Object(i.a)(y,3),O=w[0],k=w[1],N=w[2];return a.a.createElement(m.a,null,a.a.createElement("div",{className:"contact"},a.a.createElement("img",{className:"image",src:h,alt:g}),a.a.createElement(A.a,null,a.a.createElement(D.a,{variant:"h5",component:"h2"},g),a.a.createElement(D.a,{color:"textSecondary",paragraph:!0},E),a.a.createElement(D.a,{component:"pre",className:"template"},k))),a.a.createElement(P.a,null),a.a.createElement(W.a,null,a.a.createElement("div",{className:"email-array"},a.a.createElement(Q.MobileView,null,a.a.createElement(U.a,{color:"primary",href:"mailto:".concat(b)},a.a.createElement(Y.a,{className:"left-icon"}),"Mail app")),a.a.createElement(le,{email:b,subject:N,body:O,cc:"council@edmonton.ca"}),a.a.createElement(U.a,{color:"primary",href:"tel:".concat(v)},a.a.createElement(M.a,{className:"left-icon"}),"Call"))))},de=o(267),ue="undefined"!==typeof navigator&&navigator.geolocation,me=o(268),ve=o(23),fe=o.n(ve),be={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:ue},pe=Object(de.geolocated)(be)(function(e){var t=e.coords,o=Object(n.useState)(""),c=Object(i.a)(o,2),r=c[0],s=c[1],u=Object(l.useDebounce)(r,300),m=Object(i.a)(u,1)[0],v=S({address:m,coords:t}),f=Object(i.a)(v,2),b=f[0],p=f[1],h=me.parse(window.location.search).iframe_pls,g=fe()("app",{"iframe-pls":h});return a.a.createElement("div",{className:g},a.a.createElement(d.a,null),a.a.createElement(k,{label:"Find your councillor by postal code/address",query:r,setQuery:s,isLoading:r!==m||m!==p}),a.a.createElement(P.b,{gutterBottom:!0}),b&&a.a.createElement(se,b))}),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(pe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/email-contact","/service-worker.js");he?(function(e,t){fetch(e).then(function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ge(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ge(t,e)})}}()}},[[365,1,2]]]);
//# sourceMappingURL=main.523255ad.chunk.js.map