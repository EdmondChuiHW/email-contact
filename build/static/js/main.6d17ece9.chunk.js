(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1040:function(e,t){},1134:function(e,t,n){},1135:function(e,t,n){},1147:function(e,t,n){"use strict";n.r(t);n(513),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(157),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(561),n(562),n(564),n(565),n(566),n(567),n(216),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(299),n(645),n(646),n(647),n(648),n(300),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(227),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(797),n(311),n(798);var a=n(1),o=n.n(a),c=n(152),r=n.n(c),i=(n(805),n(66)),l=(n(806),n(196)),s=n.n(l),u=n(405),d=n(406),m=n(42),f=n.n(m),v=n(201),b=n(114),p=n.n(b),h=n(113),g=n.n(h),j=n(193),y=n.n(j),E=n(409),O=n.n(E),w=(n(821),n(1148)),C=n(192),k=n.n(C),N={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},P=function(e){var t=e.isLoading,n=e.size,a=e.className,c=e.children;return t?o.a.createElement(k.a,{size:n,thickness:4.8,className:a}):c};P.defaultProps=N;var Q=P,S=n(408),R=n.n(S),x=function(e){var t=e.onClearQuery;return o.a.createElement(g.a,{"aria-label":"Clear",onClick:t},o.a.createElement(R.a,null))};x.defaultProps={onClearQuery:w.a};var I=x,L={label:"",query:"",isLoading:!1,onQueryChange:w.a,onClearQuery:w.a,ClearButton:I,SearchButton:function(){return o.a.createElement(g.a,{"aria-label":"Search"},o.a.createElement(O.a,null))},Input:y.a},B=function(e){var t=e.label,n=e.query,a=e.isLoading,c=e.onQueryChange,r=e.onClearQuery,i=e.ClearButton,l=e.SearchButton,s=e.Input;return o.a.createElement(p.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:!0,placeholder:t,value:n,onChange:c}),o.a.createElement(Q,{isLoading:a,className:"loading"},n?o.a.createElement(i,{onClearQuery:r}):o.a.createElement(l,null)))};B.defaultProps=L;var U=B,W=n(118),A=n(410),F=n(1152),M=function(e){var t=e.debounceInMs;return function(e){var n=function(n){var c=n.onQueryChange,r=Object(W.a)(n,["onQueryChange"]),l=Object(a.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(A.useDebouncedCallback)(c,t),f=Object(i.a)(m,1)[0],v=Object(F.a)([d,f]),b=Object(a.useCallback)(function(){return v("")},[v]),p=Object(a.useCallback)(function(e){return v(e.target.value)},[v]);return o.a.createElement(e,Object.assign({query:u,onQueryChange:p,onClearQuery:b},r))};return n.defaultProps={onQueryChange:w.a},n}}({debounceInMs:300})(U),T=n(1153),_=n(411),q=n.n(_),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},Y=function(e){var t=e.address,n=void 0===t?"":t,o=e.coords,c=void 0===o?{latitude:0,longitude:0}:o,r=Object(a.useState)(void 0),l=Object(i.a)(r,2),s=l[0],u=l[1],d=Object(a.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],b=Object(T.a)(u,function(){return v(n)});return Object(a.useEffect)(function(){var e=c&&!n?function(e){var t=e.latitude,n=void 0===t?0:t,a=e.longitude;return G("geo: lng: ".concat(void 0===a?0:a,", lat: ").concat(n))}(c):G(n);return e.then(b),function(){return e.abort()}},[n,c,b]),[s,f]},z=n(266),H=n(195),Z=n.n(H),D=n(194),J=n.n(D),$=n(98),K=n.n($),V=n(417),X=n.n(V),ee=n(117),te=n.n(ee),ne=n(1150),ae=n(1151),oe=(n(1134),n(412)),ce=Object(F.a)([function(e){var t=e.role,n=void 0===t?"Mayor":t,a=e.lastName,o=void 0===a?"Iveson":a,c=e.ward,r=void 0===c?"":c;return"Hello ".concat(n," ").concat(o,",\n\nI want safe and liveable streets. That means 30 km/hr in residential areas. The #YEGCoreZone is the only option to move Edmonton in this direction.\n\nPlease vote to approve the #YEGCoreZone on February 26. \n\nThank you,\nConstituent from ").concat(r||"Edmonton")},Object(w.a)("Support letter for #YEGCoreZone")]),re=n(204),ie=n(1149),le=n(153),se=n(418),ue=(n(1135),{src:"",alt:"",left:o.a.createElement(o.a.Fragment,null)}),de=function(e){var t=e.src,n=e.alt,a=e.left;return t?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:t,alt:n}):a};de.defaultProps=ue;var me=de,fe={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},ve=function(e){var t=e.name,n=e.src,a=e.href,c=e.left;return o.a.createElement(K.a,{color:"primary",href:a,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(me,{src:n,alt:t,left:c}),o.a.createElement("span",null,t))};ve.defaultProps=fe;var be=ve,pe=n(413),he={name:"Gmail",src:n.n(pe).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(n,"&cc=").concat(o,"&su=").concat(r,"&body=").concat(l)}},ge=n(414),je={name:"Outlook",src:n.n(ge).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(n,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},ye=n(415),Ee={name:"Yahoo",src:n.n(ye).a,hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(n,"&cc=").concat(o,"&subject=").concat(r,"&body=").concat(l)}},Oe=n(416),we=n.n(Oe),Ce={name:"Mail app",left:o.a.createElement(we.a,{className:"left-icon"}),hrefResolver:function(e){var t=e.email,n=void 0===t?"":t,a=e.cc,o=void 0===a?"":a,c=e.subject,r=void 0===c?"":c,i=e.body,l=void 0===i?"":i;return"mailto:".concat(n,"?subject=").concat(r,"&body=").concat(l,"&cc=").concat(o)}},ke=[he,je,Ee],Ne=function(e){var t=e.subject,n=void 0===t?"":t,a=e.body,o=void 0===a?"":a,c=Object(W.a)(e,["subject","body"]);return Object(re.a)({subject:encodeURIComponent(n),body:encodeURIComponent(o)},c)},Pe={email:"",cc:"",subject:"",body:""},Qe=Object(ie.a)(Object(le.a)(Pe)),Se=Object(T.a)(Qe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=function(t){var n=t.name,a=t.hrefResolver,c=Object(W.a)(t,["name","hrefResolver"]);return o.a.createElement(be,Object.assign({key:n,name:n,href:Object(T.a)(Ne,a)(e)},c))};return t.defaultProps={name:""},t}),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.a)({providers:ke},Pe);return Object(se.a)(Se(e),e.providers)},xe=function(e){var t=e.firstName,n=e.lastName,a=e.ward,c=e.role,r=e.phone,l=e.email,s=e.photoUrl,u="".concat(t," ").concat(n),d=Object(ne.a)(Object(ae.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(a)})(c),m=Object(ne.a)(Object(ae.a)("City"),Object(w.a)("Edmonton")),f=ce({role:c,lastName:n,ward:m(a)}),b=Object(i.a)(f,2),h=b[0],g=b[1],j=oe.isMobile?[Ce].concat(Object(z.a)(ke)):[].concat(Object(z.a)(ke),[Ce]);return o.a.createElement(p.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(J.a,null,o.a.createElement(te.a,{variant:"h5",component:"h2"},u),o.a.createElement(te.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(te.a,{component:"pre",className:"template"},h))),o.a.createElement(v.a,null),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Re,{email:l,subject:g,body:h,cc:"council@edmonton.ca",providers:j}),o.a.createElement(K.a,{color:"primary",href:"tel:".concat(r)},o.a.createElement(X.a,{className:"left-icon"}),"Call"))))};xe.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var Ie=xe,Le={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},Be=function(e){var t=e.coords,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],l=c[1],u=Y({address:r,coords:t}),m=Object(i.a)(u,2),b=m[0],p=m[1],h=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":h});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(M,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:r!==p}),o.a.createElement(v.b,{gutterBottom:!0}),b&&o.a.createElement(Ie,b))};Be.defaultProps={coords:void 0};var Ue=Object(u.geolocated)(Le)(Be),We=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(Ue,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/email-contact","/service-worker.js");We?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ae(t,e)})}}()},413:function(e,t,n){e.exports=n.p+"static/media/gmail.2db0d88c.ico"},414:function(e,t,n){e.exports=n.p+"static/media/outlook.759fade9.ico"},415:function(e,t,n){e.exports=n.p+"static/media/yahoo.9796ed78.ico"},512:function(e,t,n){e.exports=n(1147)},805:function(e,t,n){},806:function(e,t,n){},821:function(e,t,n){},936:function(e,t){},938:function(e,t){},970:function(e,t){},971:function(e,t){}},[[512,1,2]]]);
//# sourceMappingURL=main.6d17ece9.chunk.js.map