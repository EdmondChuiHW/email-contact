(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1010:function(e,n){},1011:function(e,n){},1059:function(e,n){},1061:function(e,n){},1084:function(e,n){},1178:function(e,n,t){},1179:function(e,n,t){},1191:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(156),c=t.n(r),i=(t(529),t(530),t(68)),l=(t(852),t(199)),s=t.n(l),u=t(417),d=t(418),m=t(41),f=t.n(m),v=t(204),p=t(118),b=t.n(p),h=t(117),g=t.n(h),j=t(196),y=t.n(j),E=t(421),w=t.n(E),O=(t(866),t(1192)),C=t(195),N=t.n(C),k={isLoading:!1,size:24,className:"",children:o.a.createElement(o.a.Fragment,null)},P=function(e){var n=e.isLoading,t=e.size,a=e.className,r=e.children;return n?o.a.createElement(N.a,{size:t,thickness:4.8,className:a}):r};P.defaultProps=k;var Q=P,R=t(420),S=t.n(R),I=function(e){var n=e.onClearQuery;return o.a.createElement(g.a,{"aria-label":"Clear",onClick:n},o.a.createElement(S.a,null))};I.defaultProps={onClearQuery:O.a};var x=I,L={label:"",query:"",isLoading:!1,onQueryChange:O.a,onClearQuery:O.a,ClearButton:x,SearchButton:function(){return o.a.createElement(g.a,{"aria-label":"Search"},o.a.createElement(w.a,null))},Input:y.a},B=function(e){var n=e.label,t=e.query,a=e.isLoading,r=e.onQueryChange,c=e.onClearQuery,i=e.ClearButton,l=e.SearchButton,s=e.Input;return o.a.createElement(b.a,{className:"root",elevation:1},o.a.createElement(s,{autoComplete:"postal-code",className:"input",autoFocus:!0,placeholder:n,value:t,onChange:r}),o.a.createElement(Q,{isLoading:a,className:"loading"},t?o.a.createElement(i,{onClearQuery:c}):o.a.createElement(l,null)))};B.defaultProps=L;var M=B,U=t(122),W=t(422),_=t(1196),A=function(e){var n=e.debounceInMs;return function(e){var t=function(t){var r=t.onQueryChange,c=Object(U.a)(t,["onQueryChange"]),l=Object(a.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(W.useDebouncedCallback)(r,n),f=Object(i.a)(m,1)[0],v=Object(_.a)([d,f]),p=Object(a.useCallback)(function(){return v("")},[]),b=Object(a.useCallback)(function(e){return v(e.target.value)},[]);return o.a.createElement(e,Object.assign({query:u,onQueryChange:b,onClearQuery:p},c))};return t.defaultProps={onQueryChange:O.a},t}}({debounceInMs:300})(M),F=t(1197),T=t(423),q=t.n(T),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q()({url:"".concat("https://address2contact.herokuapp.com","/address2councillor"),json:!0,qs:{address:e}})},Y=function(e){var n=e.address,t=void 0===n?"":n,o=e.coords,r=void 0===o?{latitude:0,longitude:0}:o,c=Object(a.useState)(void 0),l=Object(i.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)(void 0),m=Object(i.a)(d,2),f=m[0],v=m[1],p=Object(F.a)(u,function(){return v(t)});return Object(a.useEffect)(function(){var e=r&&!t?function(e){var n=e.latitude,t=void 0===n?0:n,a=e.longitude;return G("geo: lng: ".concat(void 0===a?0:a,", lat: ").concat(t))}(r):G(t);return e.then(p),function(){return e.abort()}},[t,r]),[s,f]},D=t(267),Z=t(198),z=t.n(Z),H=t(197),J=t.n(H),$=t(102),K=t.n($),V=t(429),X=t.n(V),ee=t(121),ne=t.n(ee),te=t(1194),ae=t(1195),oe=(t(1178),t(424)),re=t(19),ce=o.a.createElement("a",{href:"https://twitter.com/search?q=YEGCoreZone",target:"_blank",rel:"noopener noreferrer"},"#YEGCoreZone"),ie={role:re.string,lastName:re.string,ward:re.string},le=function(e){var n=e.role,t=e.lastName,a=e.ward;return o.a.createElement(o.a.Fragment,null,"Dear ".concat(n," ").concat(t,",\n\nI'm writing in support of the")," ",ce," ","proposal.\n\nThank you,\nResident of ".concat(a||"Edmonton"))};le.propTypes=ie,le.defaultProps={role:"Mayor",lastName:"Iveson",ward:""};var se=Object(_.a)([function(e){var n=e.role,t=void 0===n?"Mayor":n,a=e.lastName,o=void 0===a?"Iveson":a,r=e.ward,c=void 0===r?"":r;return"Dear ".concat(t," ").concat(o,",\n\nI'm writing in support of the #YEGCoreZone proposal.\n\nThank you,\nResident of ").concat(c||"Edmonton")},le,Object(O.a)("Support letter for #YEGCoreZone")]),ue=t(207),de=t(1193),me=t(157),fe=t(430),ve=(t(1179),{src:"",name:"",left:o.a.createElement(o.a.Fragment,null)}),pe=function(e){var n=e.src,t=e.name,a=e.left;return n?o.a.createElement("img",{className:"left-icon button-img",width:24,height:24,src:n,alt:t}):a};pe.defaultProps=ve;var be=pe,he={name:"",src:"",href:"",left:o.a.createElement(o.a.Fragment,null)},ge=function(e){var n=e.name,t=e.src,a=e.href,r=e.left;return o.a.createElement(K.a,{color:"primary",href:a,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(be,{src:t,name:n,left:r}),o.a.createElement("span",null,n))};ge.defaultProps=he;var je=ge,ye=t(425),Ee={name:"Gmail",src:t.n(ye).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://mail.google.com/mail/?view=cm&fs=1&to=".concat(t,"&cc=").concat(o,"&su=").concat(c,"&body=").concat(l)}},we=t(426),Oe={name:"Outlook",src:t.n(we).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://outlook.live.com/?path=/mail/action/compose&to=".concat(t,"&cc=").concat(o,"&subject=").concat(c,"&body=").concat(l)}},Ce=t(427),Ne={name:"Yahoo",src:t.n(Ce).a,hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"https://compose.mail.yahoo.com/?to=".concat(t,"&cc=").concat(o,"&subject=").concat(c,"&body=").concat(l)}},ke=t(428),Pe=t.n(ke),Qe={name:"Mail app",left:o.a.createElement(Pe.a,{className:"left-icon"}),hrefResolver:function(e){var n=e.email,t=void 0===n?"":n,a=e.cc,o=void 0===a?"":a,r=e.subject,c=void 0===r?"":r,i=e.body,l=void 0===i?"":i;return"mailto:".concat(t,"?subject=").concat(c,"&body=").concat(l,"&cc=").concat(o)}},Re=[Ee,Oe,Ne],Se=function(e){var n=e.subject,t=void 0===n?"":n,a=e.body,o=void 0===a?"":a,r=Object(U.a)(e,["subject","body"]);return Object(ue.a)({subject:encodeURIComponent(t),body:encodeURIComponent(o)},r)},Ie={email:"",cc:"",subject:"",body:""},xe=Object(de.a)(Object(me.a)(Ie)),Le=Object(F.a)(xe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,n=function(n){var t=n.name,a=n.hrefResolver,r=Object(U.a)(n,["name","hrefResolver"]);return o.a.createElement(je,Object.assign({key:t,name:t,href:Object(F.a)(Se,a)(e)},r))};return n.defaultProps={name:""},n}),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(ue.a)({providers:Re},Ie);return Object(fe.a)(Le(e),e.providers)},Me=function(e){var n=e.firstName,t=e.lastName,a=e.ward,r=e.role,c=e.phone,l=e.email,s=e.photoUrl,u="".concat(n," ").concat(t),d=Object(te.a)(Object(ae.a)("Councillor"),function(e){return"".concat(e," \u2013 ").concat(a)})(r),m=Object(te.a)(Object(ae.a)("City"),Object(O.a)("Edmonton")),f=se({role:r,lastName:t,ward:m(a)}),p=Object(i.a)(f,3),h=p[0],g=p[1],j=p[2],y=oe.isMobile?[Qe].concat(Object(D.a)(Re)):[].concat(Object(D.a)(Re),[Qe]);return o.a.createElement(b.a,null,o.a.createElement("div",{className:"contact"},o.a.createElement("img",{className:"image",src:s,alt:u}),o.a.createElement(J.a,null,o.a.createElement(ne.a,{variant:"h5",component:"h2"},u),o.a.createElement(ne.a,{color:"textSecondary",paragraph:!0},d),o.a.createElement(ne.a,{component:"pre",className:"template"},g))),o.a.createElement(v.a,null),o.a.createElement(z.a,null,o.a.createElement("div",{className:"email-array"},o.a.createElement(Be,{email:l,subject:j,body:h,cc:"council@edmonton.ca",providers:y}),o.a.createElement(K.a,{color:"primary",href:"tel:".concat(c)},o.a.createElement(X.a,{className:"left-icon"}),"Call"))))};Me.defaultProps={firstName:"",lastName:"",ward:"",role:"",phone:"",email:"",photoUrl:"https://www.edmonton.ca/city_government/documents/Mayor-Headshot_800x494_rdax_500x309.jpg"};var Ue=Me,We={positionOptions:{enableHighAccuracy:!1,timeout:5e3},userDecisionTimeout:5e3,geolocationProvider:"undefined"!==typeof navigator&&navigator.geolocation},_e=function(e){var n=e.coords,t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],l=r[1],u=Y({address:c,coords:n}),m=Object(i.a)(u,2),p=m[0],b=m[1],h=d.parse(window.location.search).iframe_pls,g=f()("app",{"iframe-pls":h});return o.a.createElement("div",{className:g},o.a.createElement(s.a,null),o.a.createElement(A,{label:"Find your councillor by postal code/address",onQueryChange:l,isLoading:c!==b}),o.a.createElement(v.b,{gutterBottom:!0}),p&&o.a.createElement(Ue,p))};_e.defaultProps={coords:void 0};var Ae=Object(u.geolocated)(We)(_e),Fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(Ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/email-contact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/email-contact","/service-worker.js");Fe?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Te(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Te(n,e)})}}()},425:function(e,n,t){e.exports=t.p+"static/media/gmail.2db0d88c.ico"},426:function(e,n,t){e.exports=t.p+"static/media/outlook.759fade9.ico"},427:function(e,n,t){e.exports=t.p+"static/media/yahoo.9796ed78.ico"},524:function(e,n,t){e.exports=t(1191)},529:function(e,n,t){},852:function(e,n,t){},866:function(e,n,t){},977:function(e,n){},979:function(e,n){}},[[524,1,2]]]);
//# sourceMappingURL=main.3a57ded6.chunk.js.map